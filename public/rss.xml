<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Nostrss's Dev Blog</title>
        <link>https://github.com/nostrss</link>
        <description>Nostrss Blog Post List</description>
        <lastBuildDate>Fri, 08 Sep 2023 04:59:12 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>generate-rss</generator>
        <language>ko</language>
        <category>Technologies</category>
        <atom:link href="https://nostrss.me/rss.xml" rel="self" type="application/rss+xml"/>
        <item>
            <title><![CDATA[Next.js 13 í”„ë¡œì íŠ¸ yarn berryë¡œ ì „í™˜í•˜ê¸°]]></title>
            <link>https://nostrss.me/2023-09-04-154-next-yarnberry</link>
            <guid>2023-09-04-154-next-yarnberry</guid>
            <pubDate>Sun, 01 Oct 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Next.js 13 í”„ë¡œì íŠ¸ë¥¼ yarn berryë¡œ ì „í™˜í•˜ëŠ” ë°©ë²•]]></description>
            <content:encoded><![CDATA[<h2>ì„¤ì¹˜ í™˜ê²½ ë²„ì „ ì •ë³´</h2>
<blockquote>
<p>node : 18.13.0</p>
</blockquote>
<blockquote>
<p>yarn : 3.6.3</p>
</blockquote>
<blockquote>
<p>next : 13.4.19</p>
</blockquote>
<h2>next.js í”„ë¡œì íŠ¸ ìƒì„±</h2>
<p>ë¨¼ì € <code>next.js</code> í”„ë¡œì íŠ¸ë¥¼ ìƒì„±í•˜ì.</p>
<p>ì¼ë°˜ì ìœ¼ë¡œ ê°€ì¥ ë§ì´ ì„¤ì¹˜í•˜ëŠ” <code>npx create-next-app</code>ì„ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜í–ˆë‹¤.</p>
<pre><code class="language-bash">npx create-next-app@latest yarnberry-next13
</code></pre>
<h2>node_modules ì‚­ì œ</h2>
<p>ì„¤ì¹˜ê°€ ì™„ë£Œë˜ë©´ next.js í”„ë¡œì íŠ¸ë¥¼ <code>vscode</code>ë¡œ ì—´ì–´ë³´ì.</p>
<p><code>yarnberry</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ì•ìœ¼ë¡œ <code>node_modules</code>ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê²Œ ë˜ê¸° ë•Œë¬¸ì—, ê¸°ì¡´ì— ì„¤ì¹˜ëœ <code>node_modules</code>ë¥¼ ì‚­ì œí•´ì¤¬ë‹¤.</p>
<h2>yarnberry ë²„ì „ìœ¼ë¡œ ì „í™˜</h2>
<p>ì´ì œ <code>yarn berry</code> ë²„ì „ìœ¼ë¡œ ì „í™˜í•´ë³´ì. ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•´ì¤¬ë‹¤.</p>
<pre><code class="language-bash">yarn set version berry
</code></pre>
<p>ìœ„ ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì‹¤í–‰ë˜ë©´ì„œ <code>yarnberry</code> ë²„ì „ìœ¼ë¡œ ì „í™˜ëœë‹¤.</p>
<p>ì¡°ê¸ˆì€ ìƒì†Œí•œ ì‹¤í–‰í™”ë©´ê³¼ í•¨ê»˜ ì•„ë˜ì™€ ê°™ì´ ì§„í–‰ëœë‹¤.</p>
<h2>yarnberry ëª¨ë“œì—ì„œ íŒ¨í‚¤ì§€ ì¬ì„¤ì¹˜</h2>
<p>ì ì´ì œ ì‚­ì œí•œ íŒ¨í‚¤ì§€ë¥¼ <code>yarnberry</code> ëª¨ë“œì—ì„œ ì¬ì„¤ì¹˜ í•´ë³´ì. ì„¤ì¹˜ ëª…ë ¹ì–´ëŠ” ê¸°ì¡´ê³¼ ë™ì¼í•˜ë‹¤.</p>
<pre><code class="language-bash">yarn install
</code></pre>
<p>ì„¤ì¹˜ê°€ ì™„ë£Œë˜ì–´ <code>vscode</code>ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ë´¤ë‹¤.</p>
<p>ì´ì œëŠ” íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ì—¬ë„ <code>node_modules</code>ê°€ ìƒì„±ë˜ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  ìƒì„±ëœ <code>.yarn/cache</code> í´ë”ë¥¼ ì‚´í´ë´¤ë‹¤.</p>
<p>íŒ¨í‚¤ì§€ë“¤ì´ ì••ì¶•íŒŒì¼ë¡œ ì €ì¥ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>
<p>ê¸°ì¡´ì—ëŠ” <code>node_modules</code> í´ë” ìš©ëŸ‰ì´ ì»¤ì„œ <code>github</code>ì— í‘¸ì‰¬í•˜ì§€ ì•ŠëŠ”ê²ƒì´ ì¼ë°˜ì ì´ì—ˆë‹¤.</p>
<p>ê·¸ë ‡ê¸° ë•Œë¬¸ì— ê³µë™ì‘ì—…ìê°€ ìˆì„ ê²½ìš°, ì†ŒìŠ¤ì½”ë“œë¥¼ ë°›ì•„ì„œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” íŒ¨í‚¤ì§€ë¥¼ npmì—ì„œ ì¬ì„¤ì¹˜ í•´ì•¼í–ˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  ë§Œì•½ ì´ ê³¼ì •ì—ì„œ npm íŒ¨í‚¤ì§€ì—ì„œ ì‚¬ë¼ì§„ ê²ƒì´ ìˆë‹¤ë©´, ì†ŒìŠ¤ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ì—†ëŠ” ìƒí™©ì´ ë°œìƒí•  ìˆ˜ë„ ìˆì—ˆë‹¤.</p>
<p><em><strong>í•˜ì§€ë§Œ <code>yarnberry</code> ëª¨ë“œì—ì„œ íŒ¨í‚¤ì§€ë“¤ì€ ì••ì¶•ë˜ì–´ ìš©ëŸ‰ì´ ì‘ê¸° ë•Œë¬¸ì—, githubì— ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ë“¤ì„ í•¨ê»˜ í‘¸ì‰¬í•œë‹¤ê³  í•œë‹¤. ì´ë¡œì„œ ê³µë™ì‘ì—…ìëŠ” ì†ŒìŠ¤ì½”ë“œë¥¼ ë°›ì•„ì„œ ë°”ë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.</strong></em></p>
<h2>gitignoreì— ì½”ë“œ ì¶”ê°€</h2>
<p><code>yarnberry</code> ëª¨ë“œì— ë§ê²Œ <code>gitignore</code>ì— ì½”ë“œë¥¼ ì¶”ê°€í•´ì¤¬ë‹¤.</p>
<pre><code># yarn berry

.yarn/\*
!.yarn/cache
!.yarn/patches
!.yarn/plugins
!.yarn/releases
!.yarn/sdks
!.yarn/versions
</code></pre>
<h2>typescript ì„¤ì •</h2>
<blockquote>
<p>ì´ ë¶€ë¶„ì€ ë§í¬ì˜ ë„ì›€ì„ ë°›ì•„ ì§„í–‰í–ˆë‹¤.</p>
</blockquote>
<blockquote>
<p><a href="https://blog.dramancompany.com/2023/02/%EB%A6%AC%EB%A9%A4%EB%B2%84-%EC%9B%B9-%EC%84%9C%EB%B9%84%EC%8A%A4-%EC%A2%8C%EC%B6%A9%EC%9A%B0%EB%8F%8C-yarn-berry-%EB%8F%84%EC%9E%85%EA%B8%B0/">ğŸ”— ë¦¬ë©¤ë²„ ì›¹ ì„œë¹„ìŠ¤ ì¢Œì¶©ìš°ëŒ Yarn Berry ë„ì…ê¸° ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<p>í˜„ì¬ ìƒíƒœì—ì„œ ì‘ì„±ë˜ì–´ ìˆëŠ” ì½”ë“œë¥¼ ë³´ë©´ <code>typescript</code> ì—ëŸ¬ê°€ ë°œìƒí•˜ê³  ìˆì—ˆë‹¤.</p>
<p>ê¸°ì¡´ì— node_modulesì—ì„œ ëª¨ë“ˆì„ ê°€ì ¸ì˜¤ë˜ ë°©ì‹ì´ ì•„ë‹Œ, yarnberryì—ì„œ ëª¨ë“ˆì„ ê°€ì ¸ì˜¤ëŠ” ë°©ì‹ìœ¼ë¡œ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” ì—ëŸ¬ì´ë‹¤.</p>
<pre><code class="language-bash">yarn dlx @yarnpkg/sdks vscode
</code></pre>
<p>ìœ„ì˜ ì»¤ë§¨ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ vscode ì˜¤ë¥¸ìª½ í•˜ë‹¨ì— ì–¼ëŸ¿ì´ ëœ¬ë‹¤.</p>
<p>ì—¬ê¸°ì„œ í—ˆìš©ì„ í•´ì¤˜ë„ ë˜ê³  ì•„ë˜ì²˜ëŸ¼ ë³„ë„ë¡œ <code>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë²„ì „</code>ì„ ì„¤ì •í•´ì¤˜ë„ ëœë‹¤.</p>
<blockquote>
<p>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë²„ì „ ê²€ìƒ‰</p>
</blockquote>
<blockquote>
<p>íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ ë²„ì „ ì„ íƒ</p>
</blockquote>
<h2>í…ŒìŠ¤íŠ¸</h2>
<h3>ê°œë°œëª¨ë“œ í…ŒìŠ¤íŠ¸ (yarn dev) : ì„±ê³µ</h3>
<h3>ë¹Œë“œ í…ŒìŠ¤íŠ¸ (yarn build) : ì„±ê³µ</h3>
<h3>ê³µë™ ì‘ì—…ì ì‹œì ì—ì„œ í…ŒìŠ¤íŠ¸</h3>
<p>ë¨¼ì € ìƒì„±í•œ í”„ë¡œì íŠ¸ë¥¼ githubì— í‘¸ì‰¬í•´ ë‘ì—ˆë‹¤.</p>
<blockquote>
<p><a href="https://github.com/nostrss/yarnberry-next13">ğŸ”— yarnberry-next13 ë ˆíŒŒì§€í† ë¦¬ ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<p>ì´ì œ ê³µë™ì‘ì—…ì ì…ì¥ì—ì„œ ì†ŒìŠ¤ì½”ë“œë¥¼ ë°›ì•„ì„œ ì‹¤í–‰í•´ë³´ì.</p>
<p>ìœ„ ë ˆíŒŒì§€í† ë¦¬ë¥¼ <code>git clone</code> ë°›ê³ , <code>yarn dev</code>ë¥¼ ì‹¤í–‰í•´ë´¤ë‹¤.</p>
<p>í„°ë¯¸ë„ì—ì„œ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ì´ ë˜ê³  local:3000ì—ì„œë„ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ì´ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>nextjs</category>
            <category>yarnberry</category>
            <category>migration</category>
        </item>
        <item>
            <title><![CDATA[[Nest] DTO, ê·¸ê²Œ ë­ì•¼? ì™œì“°ëŠ”ë°? ì–´ë–»ê²Œ ì“°ëŠ”ë°?]]></title>
            <link>https://nostrss.me/2023-09-01-153-nestjs-dto</link>
            <guid>2023-09-01-153-nestjs-dto</guid>
            <pubDate>Fri, 01 Sep 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Nest.jsì—ì„œ DTOë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ì™€ ì‚¬ìš©ë²•]]></description>
            <content:encoded><![CDATA[<h2>DTO(Data Transfer Object)ë€?</h2>
<p>nest.jsë¥¼ ê³µë¶€í•˜ë©´ì„œ ìƒì†Œí•œ ìš©ì–´ë“¤ì´ ìˆì—ˆëŠ”ë°, ê·¸ì¤‘ í•˜ë‚˜ê°€ ë°”ë¡œ DTO(Data Transfer Object)ì˜€ë‹¤.</p>
<blockquote>
<p>ë°ì´í„° ì „ì†¡ ê°ì²´(data transfer object, DTO)ëŠ” í”„ë¡œì„¸ìŠ¤ ê°„ì— ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ëŠ” ê°ì²´ì´ë‹¤. í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ ì´ ì¼ë°˜ì ìœ¼ë¡œ ì›ê²© ì¸í„°í˜ì´ìŠ¤(ì˜ˆ: ì›¹ ì„œë¹„ìŠ¤)ë¡œ ì¬ì •ë ¬í•˜ë©´ì„œ ì´ë£¨ì–´ì§€ê²Œ ë˜ëŠ”ë° ì—¬ê¸°ì—ì„œ ê° í˜¸ì¶œì˜ ë¹„ìš©ì´ ë§ë‹¤ëŠ” ì ì„ ë™ê¸°ë¡œ í•˜ì—¬ ì´ìš©í•˜ê²Œ ëœë‹¤. ê° í˜¸ì¶œì˜ ë¹„ìš©ì´ í° ê²ƒì´ í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ ì™•ë³µ ì‹œê°„ê³¼ ê´€ë ¨ë˜ê¸° ë•Œë¬¸ì— í˜¸ì¶œì˜ ìˆ˜ë¥¼ ì¤„ì´ê¸° ìœ„í•´ ì—¬ëŸ¬ í˜¸ì¶œì— ì˜í•´ ì „ì†¡ë˜ëŠ” ë°ì´í„°ë¥¼ ì¶•ì í•˜ë©´ì„œ ì˜¤ì§ í•˜ë‚˜ì˜ í˜¸ì¶œë§Œìœ¼ë¡œ ì„œë¹„ìŠ¤ë˜ëŠ” ê°ì²´ì¸ DTOë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.</p>
</blockquote>
<blockquote>
<p><a href="https://ko.wikipedia.org/wiki/%EB%8D%B0%EC%9D%B4%ED%84%B0_%EC%A0%84%EC%86%A1_%EA%B0%9D%EC%B2%B4">ğŸ”— ìœ„í‚¤í”¼ë””ì•„ ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<p>ì¦‰, í´ë¼ì´ì–¸íŠ¸, ì„œë²„, ë°ì´í„°ë² ì´ìŠ¤ ê°„ì— í†µì‹ í•˜ê¸° ì „ì— <code>ìœ íš¨ì„±</code> ê²€ì‚¬ë¥¼ í•˜ê³ , <code>ë°ì´í„°</code>ë¥¼ ë³€í™˜í•˜ëŠ” ì—­í• ì„ í•˜ëŠ” ê²ƒ ê°™ë‹¤.</p>
<p>í”„ë¡ íŠ¸ ê°œë°œì ì…ì¥ì—ì„œ ì´í•´ë¥¼ í•´ë³´ë©´ <code>interface</code>ë¡œ <code>íƒ€ì…</code>ë§Œ ì§€ì •í•´ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ìš”ì²­ì„ ë³´ë‚´ê±°ë‚˜ ë°›ì„ ë•Œ <code>interface</code>ë¡œ ì§€ì •ëœ íƒ€ì…ìœ¼ë¡œ <code>í˜•ë³€í™˜</code>ê¹Œì§€ í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤ê³  ìƒê°í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.</p>
<h2>DTOë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ </h2>
<blockquote>
<p><a href="https://dev.to/bivor/why-dtos-are-a-must-have-in-nestjs-api-development-3j2j">ğŸ”— ê´€ë ¨ê¸€ ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<p>ìœ„ ë§í¬ì˜ ê¸€ì„ ì½ì–´ë³´ë‹ˆ DTOë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>
<blockquote>
<ul>
<li>DTOëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ ì„œë²„ ê°„ì˜ ë¬¸ì œë¥¼ ëª…í™•í•˜ê²Œ ë¶„ë¦¬í•  ìˆ˜ ìˆë‹¤.</li>
<li>APIì˜ ë³µì¡ì„±ì„ ì¤„ì´ê³  ìœ ì§€ ê´€ë¦¬ë¥¼ ë” ì‰½ê²Œ ë§Œë“œëŠ” ë° ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤.</li>
</ul>
</blockquote>
<p>ë¦¬ì•¡íŠ¸ì—ì„œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•œ ì´ìœ ë¼ê³  ìƒê°í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.</p>
<p>ì¢€ ë” ì•ˆì •ì ì´ê³ , í†µì‹ ê°„ì— íƒ€ì…ìœ¼ë¡œ ì¸í•œ ì˜¤ë¥˜ë¥¼ ì‚¬ì „ì— ë°©ì§€í•  ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆê¸° ë•Œë¬¸ì— ì‚¬ìš©í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì¸ë‹¤.</p>
<h2>DTO ì˜ˆì‹œ</h2>
<pre><code class="language-ts">import { ApiProperty } from '@nestjs/swagger';
import { IsNotEmpty, IsNumber } from 'class-validator';

export class CreateBoardDto {
  @IsNumber()
  @IsNotEmpty()
  @ApiProperty({
    description: 'ì‘ì„±ì ì•„ì´ë””',
    required: true,
    example: '1',
  })
  userId: number;

  @IsNotEmpty()
  @ApiProperty({
    description: 'ë‚´ìš©',
    required: true,
    example: 'ì•ˆë…•í•˜ì„¸ìš”',
  })
  content: string;
}
</code></pre>
<p>ìœ„ì˜ ì½”ë“œì—ì„œ <code>CreateBoardDto</code>ëŠ” <code>userId</code>ì™€ <code>content</code>ë¼ëŠ” ë‘ê°œì˜ ì†ì„±ì„ ê°€ì§€ê³  ìˆëŠ”ë°, ìœ„ ì½”ë“œë¥¼ React ì½”ë“œë¡œ í‘œí˜„í•˜ë©´ ì•„ë˜ì™€ ë¹„ìŠ·í•  ê²ƒ ê°™ë‹¤.</p>
<pre><code class="language-ts">interface ICreateBoardDto {
  userId: number;
  content: string;
}

export default function CreateBoardDto(dto: ICreateBoardDto) {
  return {
    userId: Number(dto.userId),
    content: String(dto.content),
  };
}
</code></pre>
<p>ê·¸ë¦¬ê³  Service ì½”ë“œì—ì„œëŠ” ìœ„ì— ì§€ì •í•œ DTOì˜ í˜•ì‹ìœ¼ë¡œ ë°ì´í„°ë¥¼ ê°€ì ¸ ì˜¬ìˆ˜ ìˆê²Œ ëœë‹¤.</p>
<pre><code class="language-ts">async create(data: CreateBoardDto) {
    return this.boardRepository.save(data);
  }
</code></pre>
<h2>class-validatorì™€ class-transformer</h2>
<p>ìœ„ì˜ ì—­í• ì„ í•˜ê¸° ìœ„í•´ì„œëŠ” ì¶”ê°€ì ì¸ npm íŒ¨í‚¤ì§€ê°€ í•„ìš”í•˜ë‹¤.</p>
<p>ì°¾ì•„ë³´ë‹ˆ ì•„ë˜ 2ê°œì˜ íŒ¨í‚¤ì§€ë¥¼ ë§ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒ ê°™ë‹¤.</p>
<blockquote>
<p><a href="https://www.npmjs.com/package/class-validator">ğŸ”— npm class-validator ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<blockquote>
<p><a href="https://www.npmjs.com/package/class-transformer">ğŸ”— npm class-transformer ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<p><code>class-validator</code>ëŠ” <code>DTO</code>ì˜ ìœ íš¨ì„± ê²€ì‚¬ë¥¼ í•´ì£¼ê³ , <code>class-transformer</code>ëŠ” <code>DTO</code>ì˜ í˜•ë³€í™˜ì„ í•´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.</p>
<p>ìœ„ì˜ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³ , <code>main.ts</code>ì— ì•„ë˜ì™€ ê°™ì´ ValidationPipeë¥¼ ì„¤ì •í•´ì£¼ë©´ DTOì—ì„œ ì§€ì •í•œ ìœ íš¨ì„± ê²€ì‚¬ì™€ í˜•ë³€í™˜ì„ ìë™ìœ¼ë¡œ í•´ì¤€ë‹¤.</p>
<pre><code class="language-ts">import { ValidationPipe } from '@nestjs/common';
import { NestFactory } from '@nestjs/core';
import { AppModule } from './app.module';

async function bootstrap() {
  const port = 3000;
  const app = await NestFactory.create(AppModule);

  // ValidationPipe ì „ì—­ ì ìš©
  app.useGlobalPipes(
    new ValidationPipe({
      // class-transformer ì ìš©
      transform: true,
    })
  );

  await app.listen(port);
  console.info(`listening on port ${port}`);
}
bootstrap();
</code></pre>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>nestjs</category>
            <category>dto</category>
            <category>validator</category>
            <category>transformer</category>
        </item>
        <item>
            <title><![CDATA[[NEXT] Middlewareì™€ Edge Functions]]></title>
            <link>https://nostrss.me/2023-08-31-152-nextjs-middleware-edge</link>
            <guid>2023-08-31-152-nextjs-middleware-edge</guid>
            <pubDate>Thu, 31 Aug 2023 00:00:00 GMT</pubDate>
            <description><![CDATA[Next.js Middlewareë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ë°œìƒí•œ ë¬¸ì œì ê³¼ í•´ê²°ë°©ë²•]]></description>
            <content:encoded><![CDATA[<p>ì–¼ë§ˆ ì „ íŒ€í”„ë¡œì íŠ¸ì— <code>Next.js</code>ì˜ <code>Middleware</code> íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ github ë¡œê·¸ì¸ ê´€ë ¨ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤ê³  í–ˆì—ˆë‹¤.</p>
<blockquote>
<p><a href="https://nextjs.org/docs/pages/building-your-application/routing/middleware">ğŸ”— Next.js Middleware ê³µì‹ë¬¸ì„œ ğŸ”—</a></p>
</blockquote>
<p>ê¸°ëŠ¥ ì„¤ëª…</p>
<ul>
<li>ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­</li>
<li>ê¹ƒí—™ì—ì„œ ë¦¬ë‹¤ì´ë ‰íŠ¸ urlë¡œ í˜ì´ì§€ë¥¼ ë‹¤ì‹œ ë³´ë‚´ì¤€ë‹¤.</li>
<li>ë¦¬ë‹¤ì´ë ‰íŠ¸ url ì¿¼ë¦¬ìŠ¤íŠ¸ë§ ì¤‘ì—ì„œ codeê°’ì„ ë°›ì•„ì˜¨ë‹¤.</li>
<li>ë°›ì•„ì˜¨ codeê°’ì„ ì´ìš©í•˜ì—¬ api í†µì‹ ì„ í•˜ì—¬ í† í° ê°’ì„ ë°›ì•„ì˜¨ë‹¤.</li>
<li>í† í° ê°’ìœ¼ë¡œ ì¿ í‚¤ë¥¼ ìƒì„±í•œë‹¤.</li>
</ul>
<h2>êµ¬í˜„ì½”ë“œ</h2>
<p><code>root</code> ìœ„ì¹˜ì— <code>middleware.ts</code> íŒŒì¼ì„ ìƒì„±í•˜ê³  ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•´ì£¼ì—ˆë‹¤.</p>
<pre><code class="language-tsx">// middleware.ts
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';
import {
  BLOGRASS_API_BASE_URL,
  BLOGRASS_AUTH_GET_TOKEN,
} from './constants/api';
import { ACCESS_TOKEN, REFRESH_TOKEN } from './constants/common';

// This function can be marked `async` if using `await` inside
export async function middleware(request: NextRequest) {
  const url = new URL(request.url);
  const code = new URLSearchParams(url.search).get('code') || '';
  let accessToken = request.cookies.get(ACCESS_TOKEN)?.value;
  let refreshToken = request.cookies.get(REFRESH_TOKEN)?.value;

  const getAuthToken = async () => {
    const data = await fetch(
      `${BLOGRASS_API_BASE_URL}${BLOGRASS_AUTH_GET_TOKEN}${code}`
    );
    const jsonData = await data.json();
    return jsonData.result[0];
  };

  if (code &#x26;&#x26; !accessToken &#x26;&#x26; !refreshToken) {
    const data = await getAuthToken();
    accessToken = data.accessToken;
    refreshToken = data.refreshToken;
    const response = NextResponse.next();
    if (accessToken &#x26;&#x26; refreshToken) {
      response.cookies.set(ACCESS_TOKEN, accessToken);
      response.cookies.set(REFRESH_TOKEN, refreshToken);
    }
    return response;
  }
}

export const config = {
  matcher: '/',
};
</code></pre>
<h2>ë¬¸ì œ ë°œìƒ</h2>
<p>ê°œë°œëª¨ë“œì—ì„œëŠ” ìƒê´€ì—†ì—ˆëŠ”ë°, ë°°í¬ í›„ì— ë¬¸ì œê°€ ë°œìƒí–ˆë‹¤.</p>
<p><code>vercel</code>ì„ í”„ë¡ íŠ¸ ì„œë²„ë¡œ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, ë°°í¬ í›„ì— <code>edge runtime</code> ì—ëŸ¬ê°€ ë°œìƒí•´ì„œ ë¡¤ë°±ì„ í•œ ì ì´ ìˆë‹¤.</p>
<p>ê·¸ë˜ì„œ <code>edge runtime</code>ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì•˜ë‹¤.</p>
<h2>Edge runtimeì´ë€?</h2>
<p><code>Next</code>ì—ì„œ ëŸ°íƒ€ì„ì€ 2ê°€ì§€ê°€ ì¡´ì¬í•œë‹¤.</p>
<ul>
<li><code>Node.js Runtime</code>(ìš°ë¦¬ê°€ ì¼ë°˜ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ëŸ°íƒ€ì„)</li>
<li><code>Edge Runtime</code></li>
</ul>
<p>Next.jsì—ì„œ <code>Edge</code> ëŸ°íƒ€ì„ì€ ê²½ëŸ‰í™”ëœ <code>Node.js</code> <code>API</code>ì˜ <em>í•˜ìœ„ ì§‘í•©</em>ì´ë¼ <code>Node.js</code> <code>API</code>ì˜ ì¼ë¶€ ê¸°ëŠ¥ë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<p>ì‚¬ìš©ê°€ëŠ¥í•œ <code>API</code>ëŠ” ì•„ë˜ ë§í¬ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p>
<blockquote>
<p><a href="https://nextjs.org/docs/pages/api-reference/edge">ğŸ”— edgeruntime api ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<p>ë§í¬ì—ì„œ ë³´ë“¯ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” APIê°€ í•œì •ë˜ì–´ ìˆìœ¼ë©° <em>npm íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤</em>.</p>
<blockquote>
<p>ê·¸ë˜ì„œ <code>edge runtime</code>ì—ì„œëŠ” <code>axios</code>ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ì—ˆë‹¤.</p>
</blockquote>
<p>ë˜í•œ vercelì—ì„œë„ ì‚¬ìš©í•  ë•Œ ì—¬ëŸ¬ê°€ì§€ ì œì•½ì´ ìˆë‹¤.</p>
<blockquote>
<p><a href="https://vercel.com/docs/functions/edge-functions/limitations">ğŸ”— vercel edge function ì œí•œ ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<p>ê·¸ë˜ì„œ ê°œë°œëª¨ë“œì—ì„œëŠ” ì‘ë™ì„ í–ˆìœ¼ë‚˜ vercelì— ë°°í¬ í›„ì—ëŠ” ì—ëŸ¬ê°€ ë°œìƒí•œ ê²ƒìœ¼ë¡œ ì¶”ì¸¡ì´ ëœë‹¤.</p>
<h2>ê²°ë¡ </h2>
<blockquote>
<ul>
<li>next.js middlewareëŠ” edge runtimeì—ì„œ ì‘ë™í•œë‹¤.</li>
<li>edge runtimeì€ ê²½ëŸ‰í™”ëœ node.js APIì˜ í•˜ìœ„ ì§‘í•©ì´ë‹¤.</li>
<li>edge runtimeì—ì„œëŠ” npm íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</li>
<li>ê·¸ë¦¬ê³  vercelì—ì„œë„ ì‚¬ìš©í•  ë•Œ ì—¬ëŸ¬ê°€ì§€ ì œì•½ì´ ìˆë‹¤.</li>
<li>middlewareì—ì„œëŠ” ê°„ë‹¨í•œ ë¡œì§ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒ ê°™ë‹¤.</li>
</ul>
</blockquote>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>nestjs</category>
            <category>edge</category>
            <category>vercel</category>
            <category>runtime</category>
            <category>middleware</category>
        </item>
        <item>
            <title><![CDATA['[Nest] ERROR [ExceptionsHandler] No metadata']]></title>
            <link>https://nostrss.me/2023-08-30-151-error-nest-no-metadata</link>
            <guid>2023-08-30-151-error-nest-no-metadata</guid>
            <pubDate>Wed, 30 Aug 2023 00:00:00 GMT</pubDate>
            <description><![CDATA['[Nest] ERROR [ExceptionsHandler] No metadata']]></description>
            <content:encoded><![CDATA[<p><code>Nest.js</code>ì—ì„œ <code>typeorm</code>ì„ ì—°ê²°í•˜ì—¬ ì‚¬ìš©í•˜ë ¤ê³  í•˜ë˜ ì¤‘ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.</p>
<pre><code class="language-bash">[Nest] 87109  - 2023. 08. 29. ì˜¤í›„ 9:41:15   ERROR [ExceptionsHandler] No metadata for "Board" was found.
EntityMetadataNotFoundError: No metadata for "Board" was found.
    at DataSource.getMetadata (/Users/jintaekwoo/github/private/fastcampus/simple-board/src/data-source/DataSource.ts:444:30)
    at Repository.get metadata [as metadata] (/Users/jintaekwoo/github/private/fastcampus/simple-board/src/repository/Repository.ts:53:40)
    at Repository.find (/Users/jintaekwoo/github/private/fastcampus/simple-board/src/repository/Repository.ts:524:39)
    at BoardService.findAll (/Users/jintaekwoo/github/private/fastcampus/simple-board/src/board/board.service.ts:35:33)
    at BoardController.findAll (/Users/jintaekwoo/github/private/fastcampus/simple-board/src/board/board.controller.ts:24:30)
    at /Users/jintaekwoo/github/private/fastcampus/simple-board/node_modules/@nestjs/core/router/router-execution-context.js:38:29
    at InterceptorsConsumer.intercept (/Users/jintaekwoo/github/private/fastcampus/simple-board/node_modules/@nestjs/core/interceptors/interceptors-consumer.js:11:20)
    at /Users/jintaekwoo/github/private/fastcampus/simple-board/node_modules/@nestjs/core/router/router-execution-context.js:46:60
    at /Users/jintaekwoo/github/private/fastcampus/simple-board/node_modules/@nestjs/core/router/router-proxy.js:9:23
    at Layer.handle [as handle_request] (/Users/jintaekwoo/github/private/fastcampus/simple-board/node_modules/express/lib/router/layer.js:95:5)
</code></pre>
<h2>í•´ê²°ì„ ìœ„í•œ ì‹œë„</h2>
<h3>@Entity() ëˆ„ë½</h3>
<ul>
<li><code>entitiy</code> íŒŒì¼ì— <code>@Entity()</code> ë°ì½”ë ˆì´í„°ê°€ ëˆ„ë½ì—¬ë¶€ í™•ì¸</li>
<li><code>Module</code>ì— í•´ë‹¹ <code>Entity</code>ê°€ ë“±ë¡ë˜ì–´ìˆëŠ”ì§€ í™•ì¸</li>
<li><code>typeorm</code> ë²„ì „ ë‚®ì¶”ê¸°(0.3.17 => 0.2.X)
<ul>
<li>ë²„ì „ì„ ë‚®ì¶”ì§€ ì•Šê³  ìˆ˜ì •í•´ë³´ê¸° ìœ„í•´ ë³€ê²½í•˜ì§€ ì•Šì•˜ë‹¤.</li>
</ul>
</li>
<li>typeorm <code>DataSource</code>ì˜ entities ê²½ë¡œê°€ ì˜ëª»ë˜ì—ˆëŠ”ì§€ í™•ì¸</li>
</ul>
<h3>í•´ê²°(app.module.ts ìˆ˜ì •)</h3>
<pre><code class="language-ts">// app.module.ts
// ë³€ê²½ì „

@Module({
  imports: [
    ConfigModule(),
    TypeOrmModule.forRoot({
      type: 'postgres',
      host: 'localhost',
      port: 5432,
      username: 'admin',
      password: '**********',
      database: 'postgres',
      entities: [__dirname + '/**/*.entity.{.ts,.js}'],
      synchronize: false,
    }),
    BoardModule,
  ],
    controllers: [AppController],
  providers: [AppService],
})

// ë³€ê²½í›„
@Module({
  imports: [
    ConfigModule(),
    TypeOrmModule.forRoot({
      type: 'postgres',
      host: process.env.DB_HOST,
      port: parseInt(process.env.DB_PORT),
      username: process.env.DB_USERNAME,
      password: process.env.DB_PASSWORD,
      database: process.env.DB_NAME,
      entities: [__dirname + '/**/*.entity{.ts,.js}'],
      synchronize: false,
      logging: true,
    }),
    BoardModule,
  ],
  controllers: [AppController],
  providers: [AppService],
})

</code></pre>
<p>ìœ„ì™€ ê°™ì´ í™˜ê²½ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ìˆ˜ì •í•˜ë‹ˆ ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ì˜€ë‹¤.</p>
<h2>í•´ê²° ëì§€ë§Œ ì—¬ì „í•œ ê¶ê¸ˆì¦</h2>
<blockquote>
<p>í™˜ê²½ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ í•˜ë“œì½”ë”©í•˜ëŠ” ê²ƒì˜ ì°¨ì´ëŠ” ë¬´ì—‡ì¼ê¹Œ</p>
</blockquote>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>nestjs</category>
            <category>typeorm</category>
            <category>express</category>
            <category>error</category>
            <category>repository</category>
            <category>datasource</category>
        </item>
        <item>
            <title><![CDATA['[NEXT] TOAST Editorì—ì„œ ì‘ì„±í•œ ê¸€ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°(useRef) ']]></title>
            <link>https://nostrss.me/2023-08-25-147-toast-next-2</link>
            <guid>2023-08-25-147-toast-next-2</guid>
            <pubDate>Fri, 25 Aug 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<blockquote>
<ul>
<li><a href="https://nostrss.github.io/2023-08-25/146-toast-next-1">1.TOAST Editorì— ì‚¬ìš©í•˜ê¸°</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/147-toast-next-2">2.TOAST Editorì— ì‘ì„±í•œ ê¸€ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°(useRef)</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/148-toast-next-3">3.TOAST Editorì—ì„œ ì´ë¯¸ì§€ ì—…ë¡œë“œí•˜ê¸°(hooks)</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/149-toast-next-4">4.TOAST Editor Viewer ì‚¬ìš©í•˜ê¸°</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/150-toast-next-5">5.TOAST Editor customHTMLSanitizer ì‚¬ìš©í•˜ê¸°</a></li>
</ul>
</blockquote>
<h2>Toast Editorì— ì‘ì„±í•œ ê¸€ ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¤ê¸°</h2>
<pre><code>src
 â”£ components
 â”ƒ â”£ newpost
 â”ƒ â”ƒ â”— PostEditor.tsx // ì—ë””í„° ì»´í¬ë„ŒíŠ¸
 â”£ pages
 â”ƒ â”£ newpost
 â”ƒ â”ƒ â”— index.tsx // ì—ë””í„°ì˜ ë‚´ìš©ì„ api ìš”ì²­ìœ¼ë¡œ ì„œë²„ì— ì „ì†¡
 â”ƒ â”— index.tsx
</code></pre>
<p>ì—ë””í„°ì— ê¸€ì„ ì‘ì„±í•˜ê³ , ì„œë²„ì— ì €ì¥í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € ì—ë””í„°ì— ì‘ì„±ëœ ê¸€ ë‚´ìš©ì„ ë¶ˆëŸ¬ì™€ì•¼ í•œë‹¤.</p>
<pre><code class="language-tsx">// src/pages/newpost/index.tsx
const editorRef = useRef&#x3C;Editor>(null);

const onSubmitNewPost = (e: FormEvent) => {
  e.preventDefault();
  // ë§ˆí¬ë‹¤ìš´ í˜•ì‹ìœ¼ë¡œ ì‘ì„±í•œ ê¸€ ë‚´ìš©ì„ ë¶ˆëŸ¬ì˜¨ë‹¤.
  const markDownContent = editorRef.current?.getInstance().getMarkdown();
  console.log(markDownContent);
};

return (
  &#x3C;section>
    &#x3C;form onSubmit={onSubmitNewPost}>
      &#x3C;PostEditor editorRef={editorRef} />
    &#x3C;/form>
  &#x3C;/section>
);
</code></pre>
<p><code>useRef</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ <code>editorRef</code>ë¥¼ ì„ ì–¸í•˜ì˜€ê³ , <code>editorRef</code>ë¥¼ <code>PostEditor</code>ì— <code>Props</code>ë¡œ ì „ë‹¬í•˜ê²Œ ë˜ë©´ ìœ ì €ê°€ ì‘ì„±í•œ ê¸€ì •ë³´ê°€ <code>editorRef</code>ì— ë‹´ê¸°ê²Œ ë  ê²ƒì´ë‹¤.</p>
<blockquote>
<p><code>useState</code>ê°€ ì•„ë‹Œ <code>useRef</code>ë¥¼ ì‚¬ìš©í•œ ì´ìœ ëŠ”, <code>useState</code>ë¥¼ ì‚¬ìš©í•˜ë©´ <code>onChange</code> ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ ë Œë”ë§ì´ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì—, ê¸€ìë¥¼ ì…ë ¥í•˜ëŠ” ë™ì•ˆì—ë„ ë Œë”ë§ì´ ì¼ì–´ë‚˜ê²Œ ë  ê²ƒì´ë‹¤. ì´ë¥¼ ë°©ì§€í•˜ê³ ì <code>useRef</code>ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.</p>
</blockquote>
<p><code>editorRef</code>ì—ì„œ ì‘ì„±ëœ ê¸€ ë‚´ìš©ì„ ë½‘ì•„ë‚´ê¸° ìœ„í•´ì„œëŠ” <code>getInstance()</code>ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.</p>
<p>ì—¬ê¸°ì„œ <code>Toast Editor</code>ëŠ” 2ê°€ì§€ ëª¨ë“œë¥¼ ì œê³µí•˜ëŠ”ë°, <code>markdown</code>ê³¼ <code>wysiwyg</code>ì´ë‹¤.</p>
<ul>
<li><code>markdown</code> : README.md íŒŒì¼ì²˜ëŸ¼ ì‘ì„±í•˜ëŠ” ì—ë””í„°ì´ë‹¤. ì´ëŸ° í˜•ì‹ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ì„œëŠ” getMarkdown()ì„ ì‚¬ìš©í•˜ë©´ëœë‹¤.</li>
<li><code>wysiwyg</code> : ì¼ë°˜ì ì¸ ê¸€ì“°ê¸° í¸ì§‘ê¸° í˜•ì‹ì˜ ì—ë””í„°ì´ë‹¤. ì´ëŸ° í˜•ì‹ìœ¼ë¡œ ë¶ˆëŸ¬ì˜¤ê¸° ìœ„í•´ì„œëŠ” getHtml()ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.</li>
</ul>
<p>ë‚˜ëŠ” ë§ˆí¬ë‹¤ìš´ í˜•ì‹ë§Œ ì‚¬ìš©í•  ê²ƒì´ê¸° ë•Œë¬¸ì— <code>getMarkdown()</code>ì„ ì‚¬ìš©í•˜ì˜€ë‹¤.</p>
<p>ì´ì œëŠ” <code>Props</code>ë¥¼ ë°›ëŠ” <code>PostEditor</code> ì»´í¬ë„ŒíŠ¸ë¥¼ ìˆ˜ì •í•´ì•¼ê² ë‹¤.</p>
<pre><code class="language-tsx">//src/components/newpost/PostEditor.tsx
import { Editor } from '@toast-ui/react-editor';
import '@toast-ui/editor/dist/toastui-editor.css';
import '@toast-ui/editor/dist/i18n/ko-kr';
import { RefObject } from 'react';

export default function PostEditor({
  editorRef,
}: {
  editorRef: RefObject&#x3C;Editor>;
}) {
  return (
    &#x3C;Editor
      ref={editorRef}
      previewStyle='vertical'
      height='800px'
      initialEditType='markdown'
      placeholder='Write Something'
      hideModeSwitch={true}
      language='ko-KR'
    />
  );
}
</code></pre>
<p><code>Props</code>ë¡œ ì „ë‹¬ë°›ì€ <code>editorRef</code>ë¥¼ <code>Editor</code> ì»´í¬ë„ŒíŠ¸ì˜ <code>ref</code>ë¡œ ì „ë‹¬í•´ì£¼ì—ˆë‹¤.</p>
<p>ì´ì œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ì.</p>
<p>ì½˜ì†”ì— ì •ìƒì ìœ¼ë¡œ ê¸€ ë‚´ìš©ì´ ì¶œë ¥ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>nextjs</category>
            <category>react</category>
            <category>javascript</category>
            <category>typescript</category>
            <category>toast</category>
            <category>editor</category>
        </item>
        <item>
            <title><![CDATA['[NEXT] TOAST Editorì—ì„œ ì´ë¯¸ì§€ ì—…ë¡œë“œí•˜ê¸°(hooks)']]></title>
            <link>https://nostrss.me/2023-08-25-148-toast-next-3</link>
            <guid>2023-08-25-148-toast-next-3</guid>
            <pubDate>Fri, 25 Aug 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<blockquote>
<ul>
<li><a href="https://nostrss.github.io/2023-08-25/146-toast-next-1">1.TOAST Editorì— ì‚¬ìš©í•˜ê¸°</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/147-toast-next-2">2.TOAST Editorì— ì‘ì„±í•œ ê¸€ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°(useRef)</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/148-toast-next-3">3.TOAST Editorì—ì„œ ì´ë¯¸ì§€ ì—…ë¡œë“œí•˜ê¸°(hooks)</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/149-toast-next-4">4.TOAST Editor Viewer ì‚¬ìš©í•˜ê¸°</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/150-toast-next-5">5.TOAST Editor customHTMLSanitizer ì‚¬ìš©í•˜ê¸°</a></li>
</ul>
</blockquote>
<h2>Toast Editorì—ì„œ ì´ë¯¸ì§€ ì—…ë¡œë“œ í•˜ê¸°</h2>
<p><code>Toast Editor</code>ëŠ” ì´ë¯¸ì§€ ì—…ë¡œë“œë¥¼ ìœ„í•œ UIë¥¼ ì•„ë˜ì™€ ê°™ì´ ì œê³µí•˜ê³  ìˆë‹¤.</p>
<p>ê·¸ë¦¬ê³  ì´ë¯¸ì§€ë¥¼ ì„ íƒí•˜ê³  OK ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì´ë¯¸ì§€ê°€ ì•„ë˜ì™€ ê°™ì´ ë…¸ì¶œë˜ê²Œ ëœë‹¤.</p>
<p>ì¢Œì¸¡ì— ë…¸ì¶œëœ ë³µì¡í•œ ì½”ë“œëŠ” base64ë¡œ ì¸ì½”ë”©ëœ ì´ë¯¸ì§€ ì½”ë“œì¸ë°,ìœ ì €ê°€ ì´ë ‡ê²Œ ì‹¤ì‚¬ìš©í•˜ê¸°ëŠ” ì–´ë ¤ìš¸ ê²ƒ ê°™ë‹¤.</p>
<p>ê·¸ë˜ì„œ ì•„ë˜ì™€ ê°™ì´ ìˆ˜ì •ì„ í•´ë³´ë ¤ê³  í•œë‹¤.</p>
<blockquote>
<ol>
<li>ì—…ë¡œë“œí•  ì´ë¯¸ì§€ë¥¼ ì„ íƒí•œë‹¤.</li>
<li>OKë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì„ íƒí•œ ì´ë¯¸ì§€ë¥¼ ì„œë²„ì— ì—…ë¡œë“œí•œë‹¤.</li>
<li>ì—…ë¡œë“œê°€ ì™„ë£Œë˜ë©´, ì—…ë¡œë“œëœ ì´ë¯¸ì§€ì˜ ì£¼ì†Œë¥¼ ë°›ëŠ”ë‹¤.</li>
<li>ì—…ë¡œë“œ ëœ ì´ë¯¸ì§€ì˜ ì£¼ì†Œë¥¼ ì—ë””í„°ì— ë…¸ì¶œí•œë‹¤.</li>
</ol>
</blockquote>
<p>1ë²ˆì€ ì´ë¯¸ êµ¬í˜„ë˜ì–´ ìˆë‹¤. 2ë²ˆë¶€í„° ì§ì ‘ êµ¬í˜„í•´ë³´ë„ë¡ í•˜ì.</p>
<h2>OKë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì´ë¯¸ì§€ ì—…ë¡œë“œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê¸°</h2>
<p>ê·¸ëŸ°ë° OK ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ ë‚´ê°€ ì‘ì„±í•œ ì´ë¯¸ì§€ ì—…ë¡œë“œ í•¨ìˆ˜ê°€ ë°”ë¡œ ì‹¤í–‰ë˜ë„ë¡ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?</p>
<p>ì´ì „ì— <code>EditorOptions</code>ì˜ ë¬¸ì„œì—ì„œ <code>hooks</code>ë¼ëŠ” <code>Props</code>ë¥¼ ë³¸ì ì´ ìˆì—ˆë‹¤.</p>
<blockquote>
<p><a href="https://nhn.github.io/tui.editor/latest/ToastUIEditorCore">ğŸ”— EditorOptions ë¬¸ì„œ ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<p>ì„¤ëª…ì— ì´ë¯¸ì§€ ì—…ë¡œë“œë¥¼ ìœ„í•œ <code>hooks</code>ë¼ê³  ë‹¹ë‹¹íˆ ê¸°ì¬ë˜ì–´ ìˆëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ì—­ì‹œ ë¬¸ì„œëŠ” ì˜ ì¨ë†“ì€ ê²ƒ ê°™ë‹¤.</p>
<p><code>hooks</code>ë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ì§€ ì•Šì„ê¹Œ ì˜ˆìƒì€ ë˜ëŠ”ë° ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ ì–´ë–»ê²Œ ë ê¹Œ?</p>
<p>ì¡°ê¸ˆ ë” ì•Œì•„ë´ì•¼ê² ë‹¤.</p>
<pre><code class="language-ts">// node_modules/@toast-ui/editor/types/editor.d.ts
export interface EditorOptions {
 (...)
  hooks?: HookMap;
  (...)
}

export type HookMap = {
  addImageBlobHook?: (blob: Blob | File, callback: HookCallback) => void;
};

type HookCallback = (url: string, text?: string) => void;
</code></pre>
<p><code>hooks</code>ì— ëŒ€í•œ íƒ€ì…ì„ í™•ì¸í•´ë³´ë‹ˆ, <code>addImageBlobHook</code>ì´ë¼ëŠ” í•¨ìˆ˜ê°€ ìˆê³ , ì´ í•¨ìˆ˜ëŠ” <code>blob</code>ê³¼ <code>callback</code>ì„ ì¸ìë¡œ ë°›ëŠ”ë‹¤.</p>
<p>ê·¸ë¦¬ê³  <code>callback</code>ì€ <code>url</code>ê³¼ <code>text</code>ë¥¼ ì¸ìë¡œ ë°›ëŠ”ë‹¤.</p>
<p>ì´ì œ <code>blob</code>ê³¼ <code>callback</code>ì„ ì¸ìë¡œ ë°›ëŠ” ì´ë¯¸ì§€ ì—…ë¡œë“œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ ì—°ê²° í•´ì£¼ë©´ ë  ê²ƒ ê°™ë‹¤.</p>
<h3>ì´ë¯¸ì§€ ì—…ë¡œë“œ í•¨ìˆ˜</h3>
<pre><code class="language-ts">export const imageAPI = {
  postUploadImage: async (image: File | Blob, callback: HookCallback) => {
    // ì´ë¯¸ì§€ ì—…ë¡œë“œë¥¼ ìœ„í•œ formData ìƒì„±
    const formData = new FormData();
    formData.append('file', image);

    try {
      // ì´ë¯¸ì§€ ì—…ë¡œë“œ í›„ ì´ë¯¸ì§€ id ë°›ê¸°
      const result = await axios({
        method: 'post',
        url: BLOGRASS_IMAGE_UPLOAD,
        data: formData,
      });

      // ì´ë¯¸ì§€ idë¥¼ ì´ìš©í•˜ì—¬ ì´ë¯¸ì§€ url ìƒì„±
      const imageUrl =
        await `${BLOGRASS_IMAGE_BUCKET_URL}/${result.data.result[0]}`;

      // callbackì— ì´ë¯¸ì§€ urlê³¼ alt_textë¥¼ ì¸ìë¡œ ë„£ì–´ì¤€ë‹¤.
      callback(imageUrl, 'alt_text');
    } catch (error) {
      console.error(error);
    }
  },
};
</code></pre>
<blockquote>
<ol>
<li><code>image</code>ì™€ <code>callback</code>ì„ ì¸ìë¡œ ë°›ëŠ”ë‹¤.</li>
<li><code>image</code>ë¥¼ ì„œë²„ì— ì—…ë¡œë“œ í•œë‹¤.</li>
<li>ì—…ë¡œë“œê°€ ì™„ë£Œë˜ë©´, ì—…ë¡œë“œëœ ì´ë¯¸ì§€ì˜ <code>URL</code>ì„ ë°›ëŠ”ë‹¤.</li>
<li><code>callback</code>ì— ì´ë¯¸ì§€ì˜ <code>URL</code>ê³¼ í…ìŠ¤íŠ¸ë¥¼ ì¸ìë¡œ ë„£ì–´ì¤€ë‹¤.</li>
</ol>
</blockquote>
<h3>hooksì— ì´ë¯¸ì§€ ì—…ë¡œë“œ í•¨ìˆ˜ ì—°ê²°í•˜ê¸°</h3>
<p>ì•„ë˜ì™€ ê°™ì´ <code>hooks</code>ì— ì´ë¯¸ì§€ ì—…ë¡œë“œ í•¨ìˆ˜ë¥¼ ì—°ê²°í•´ì£¼ë©´ ëœë‹¤.</p>
<pre><code class="language-tsx">export default function PostEditor({
  editorRef,
}: {
  editorRef: RefObject&#x3C;Editor>;
}) {
  return (
    &#x3C;Editor
      ref={editorRef}
      previewStyle='vertical'
      height='800px'
      initialEditType='markdown'
      placeholder='Write Something'
      hideModeSwitch={true}
      language='ko-KR'
      hooks={{ addImageBlobHook: imageAPI.postUploadImage }}
    />
  );
}
</code></pre>
<p>ì½”ë“œ ë¸”ëŸ­ì— <code>hooks</code>ë¥¼ ì¶”ê°€í•´ì£¼ì—ˆë‹¤.(ì™œ ì•ˆë³´ì´ì§€..?)</p>
<blockquote>
<p>í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ë‹ˆ ì•„ë˜ì™€ ê°™ì´ ì´ë¯¸ì§€ê°€ ì—…ë¡œë“œ ë˜ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆì—ˆë‹¤.</p>
</blockquote>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>nextjs</category>
            <category>react</category>
            <category>javascript</category>
            <category>typescript</category>
            <category>toast</category>
            <category>editor</category>
        </item>
        <item>
            <title><![CDATA['[NEXT] TOAST Editor ì‚¬ìš©í•˜ê¸° ']]></title>
            <link>https://nostrss.me/2023-08-25-146-toast-next-1</link>
            <guid>2023-08-25-146-toast-next-1</guid>
            <pubDate>Fri, 25 Aug 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<blockquote>
<ul>
<li><a href="https://nostrss.github.io/2023-08-25/146-toast-next-1">1.TOAST Editorì— ì‚¬ìš©í•˜ê¸°</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/147-toast-next-2">2.TOAST Editorì— ì‘ì„±í•œ ê¸€ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°(useRef)</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/148-toast-next-3">3.TOAST Editorì—ì„œ ì´ë¯¸ì§€ ì—…ë¡œë“œí•˜ê¸°(hooks)</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/149-toast-next-4">4.TOAST Editor Viewer ì‚¬ìš©í•˜ê¸°</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/150-toast-next-5">5.TOAST Editor customHTMLSanitizer ì‚¬ìš©í•˜ê¸°</a></li>
</ul>
</blockquote>
<h2>ë²„ì „ ì •ë¦¬</h2>
<ul>
<li><code>Next.js</code> : 13.4.10
<ul>
<li><code>pages Router</code>ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.</li>
</ul>
</li>
<li><code>@toast-ui/editor</code> - 3.2.2</li>
<li><code>@toast-ui/react-editor</code> - 3.2.3</li>
</ul>
<h2>ëŒ€ëµì ì¸ í´ë” êµ¬ì¡°</h2>
<pre><code>src
 â”£ components
 â”ƒ â”£ newpost
 â”ƒ â”ƒ â”— PostEditor.tsx
 â”£ pages
 â”ƒ â”£ newpost
 â”ƒ â”ƒ â”— index.tsx
 â”ƒ â”— index.tsx
</code></pre>
<h2>ì‚¬ìš©ë²• ìµíˆê¸°</h2>
<blockquote>
<p><a href="https://ui.toast.com/tui-editor">ğŸ”— Toast Editor ì†Œê°œ ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<p><code>Toast Editor</code>ëŠ” <code>NHN</code>ì´ ë§Œë“  ì˜¤í”ˆì†ŒìŠ¤ ì—ë””í„°ì´ë‹¤.</p>
<p>ê·¸ë˜ì„œ í•œêµ­ì—ì„œ ë§ì´ ì‚¬ìš©í•˜ê³ , ê²€ìƒ‰ ì‹œì—ë„ í•œêµ­ì–´ ê²°ê³¼ê°€ ë§ì´ ë‚˜ì˜¤ëŠ” í¸ì´ì—ˆë‹¤.</p>
<p>ë‚˜ëŠ” Next.jsë¥¼ ì‚¬ìš©í•˜ê³  ìˆê¸° ë•Œë¬¸ì— React ë²„ì „ì˜ ì‚¬ìš©ë²•ì„ ì°¾ì•„ë³´ì•˜ë‹¤.</p>
<blockquote>
<p><a href="https://github.com/nhn/tui.editor/tree/master/apps/react-editor#-usage">ğŸ”— @toast-ui/react-editor ê¹ƒí—ˆë¸Œ ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<p>ìœ„ì˜ ë§í¬ì—ì„œ ì†Œê°œí•œ ì‚¬ìš©ë²•ì€ ì•„ë˜ì™€ ê°™ì•˜ë‹¤.</p>
<pre><code class="language-tsx">import '@toast-ui/editor/dist/toastui-editor.css';

import { Editor } from '@toast-ui/react-editor';

const MyComponent = () => (
  &#x3C;Editor
    initialValue='hello react editor world!'
    previewStyle='vertical'
    height='600px'
    initialEditType='markdown'
    useCommandShortcut={true}
  />
);
</code></pre>
<p>ìœ„ì™€ ê°™ì´ <code>Editor</code>ë¥¼ <code>import</code>í•˜ê³  ì»´í¬ë„ŒíŠ¸ì— í•„ìš”í•œ propsë¥¼ ì „ë‹¬í•´ ì£¼ë©´ ëœë‹¤.</p>
<p>ê·¸ë ‡ë‹¤ë©´ <code>Editor</code>ì»´í¬ë„ŒíŠ¸ëŠ” ì–´ë–¤ <code>props</code>ë¥¼ ê°€ì§€ê³  ìˆì„ê¹Œ?</p>
<h2>Editor ì»´í¬ë„ŒíŠ¸ ì‚´í´ë³´ê¸°</h2>
<pre><code class="language-ts">// node_modules/@toast-ui/react-editor/index.d.ts
export class Editor extends Component&#x3C;EditorProps> {
  getInstance(): ToastuiEditor;

  getRootElement(): HTMLElement;
}
</code></pre>
<p><code>Editor</code> ì»´í¬ë„ŒíŠ¸ëŠ” <code>Component&#x3C;EditorProps></code>íƒ€ì…ì„ ìƒì†ë°›ê³  <code>getInstance</code>ì™€ <code>getRootElement</code>ë¼ëŠ” ë©”ì„œë“œë¥¼ ê°€ì§€ê³  ìˆì—ˆë‹¤.</p>
<p><code>props</code>ë¥¼ ì•Œì•„ë³´ê¸° ìœ„í•´ì„œ ì´ë²ˆì—” ìƒì†ë°›ì€ <code>EditorProps</code>ë¥¼ ì‚´í´ë³´ì•˜ë‹¤.</p>
<pre><code class="language-ts">// node_modules/@toast-ui/react-editor/index.d.ts
export type EditorProps = Omit&#x3C;EditorOptions, 'el'> &#x26; Partial&#x3C;EventMapping>;
</code></pre>
<ol>
<li>
<p><code>Omit&#x3C;EditorOptions, 'el'></code>ëŠ” <code>EditorOptions</code>ì—ì„œ <code>el</code>ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì†ì„±ë“¤ì„ ìƒì†ë°›ëŠ”ë‹¤ëŠ” ëœ»ì´ë‹¤.</p>
</li>
<li>
<p><code>Partial&#x3C;EventMapping></code>ëŠ” <code>EventMapping</code>ì˜ ì†ì„±ë“¤ì„ ì„ íƒì ìœ¼ë¡œ ìƒì†ë°›ëŠ”ë‹¤ëŠ” ëœ»ì´ë‹¤.</p>
</li>
<li>
<p>ê·¸ë¦¬ê³  ìœ„ì˜ ë‘ íƒ€ì…ì„ í•©ì³ì„œ <code>EditorProps</code>ë¥¼ ë§Œë“¤ì—ˆë‹¤.</p>
</li>
</ol>
<p>ì´ì¤‘ì— <code>EditorOptions</code>ë¥¼ ë¨¼ì € ì‚´í´ë³´ì•˜ë‹¤.</p>
<h3>EditorOptions</h3>
<pre><code class="language-ts">// node_modules/@toast-ui/editor/types/editor.d.ts
export interface EditorOptions {
  el: HTMLElement; // ì´ê±´ ì œì™¸í•˜ê³  ìƒì†ì„ ë°›ëŠ”ë‹¤.
  height?: string;
  minHeight?: string;
  initialValue?: string;
  previewStyle?: PreviewStyle;
  initialEditType?: EditorType;
  events?: EventMap;
  hooks?: HookMap;
  language?: string;
  useCommandShortcut?: boolean;
  usageStatistics?: boolean;
  toolbarItems?: (string | ToolbarItemOptions)[][];
  hideModeSwitch?: boolean;
  plugins?: EditorPlugin[];
  extendedAutolinks?: ExtendedAutolinks;
  placeholder?: string;
  linkAttributes?: LinkAttributes;
  customHTMLRenderer?: CustomHTMLRenderer;
  customMarkdownRenderer?: ToMdConvertorMap;
  referenceDefinition?: boolean;
  customHTMLSanitizer?: Sanitizer;
  previewHighlight?: boolean;
  frontMatter?: boolean;
  widgetRules?: WidgetRule[];
  theme?: string;
  autofocus?: boolean;
  viewer?: boolean;
}
</code></pre>
<p>ì—„ì²­ë‚˜ê²Œ ë§ì€ ì˜µì…˜ë“¤ì´ ìˆë‹¤.</p>
<p>í•˜ì§€ë§Œ ë‹¤í–‰íˆ ë¬¸ì„œë¡œ ì˜ ì •ë¦¬ê°€ ë˜ì–´ ìˆì–´ì„œ ê° ì˜µì…˜ë“¤ì´ ì–´ë–¤ ì—­í• ì„ í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>
<blockquote>
<p><a href="https://nhn.github.io/tui.editor/latest/ToastUIEditorCore">ğŸ”— EditorOptions ë¬¸ì„œ ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<p>ìœ„ì˜ ë§í¬ë¥¼ ë³´ë©´ì„œ ë‚˜ì—ê²Œ í•„ìš”í•œ ì˜µì…˜ë“¤ì´ ë¬´ì—‡ì¸ì§€ ì•Œ ìˆ˜ ìˆì—ˆë‹¤.</p>
<h3>EventMapping</h3>
<pre><code class="language-ts">// node_modules/@toast-ui/react-editor/index.d.ts
export interface EventMapping {
  onLoad: EventMap['load'];
  onChange: EventMap['change'];
  onCaretChange: EventMap['caretChange'];
  onFocus: EventMap['focus'];
  onBlur: EventMap['blur'];
  onKeydown: EventMap['keydown'];
  onKeyup: EventMap['keyup'];
  onBeforePreviewRender: EventMap['beforePreviewRender'];
  onBeforeConvertWysiwygToMarkdown: EventMap['beforeConvertWysiwygToMarkdown'];
}

export interface EventMap {
  load?: (param: Editor) => void;
  change?: (editorType: EditorType) => void;
  caretChange?: (editorType: EditorType) => void;
  focus?: (editorType: EditorType) => void;
  blur?: (editorType: EditorType) => void;
  keydown?: (editorType: EditorType, ev: KeyboardEvent) => void;
  keyup?: (editorType: EditorType, ev: KeyboardEvent) => void;
  beforePreviewRender?: (html: string) => string;
  beforeConvertWysiwygToMarkdown?: (markdownText: string) => string;
}
</code></pre>
<p><code>EventMapping</code>ì´ë¼ëŠ” ë‹¨ì–´ ê·¸ëŒ€ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ì´ë²¤íŠ¸ í•¨ìˆ˜ì™€ ì´ë²¤íŠ¸ í•¨ìˆ˜ì˜ íŒŒë¼ë¯¸í„° íƒ€ì…ì„ ì •ì˜í•˜ê³  ë§µí•‘í•œ ê²ƒ ì´ì—ˆë‹¤.</p>
<h2>ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°</h2>
<p>ê¸€ì‘ì„± í˜ì´ì§€ëŠ” <code>pages/newpost/index.tsx</code> ê²½ë¡œì— ë§Œë“¤ë ¤ê³  í•œë‹¤.</p>
<p>í•˜ì§€ë§Œ <code>index.tsx</code> íŒŒì¼ì´ ë„ˆë¬´ ì»¤ì§ˆê²ƒ ê°™ì•„ <code>components/newpost/PostEditor.tsx</code>íŒŒì¼ì— <code>PostEditor</code>ë¼ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë³„ë„ë¡œ ë§Œë“¤ê³ , <code>index.tsx</code>ì—ì„œ import í•˜ì—¬ ì‚¬ìš©í•˜ë ¤ê³  í•œë‹¤.</p>
<p><code>PostEditor</code> ì»´í¬ë„ŒíŠ¸ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í–ˆë‹¤.</p>
<pre><code class="language-tsx">// components/newpost/PostEditor.tsx
import { Editor } from '@toast-ui/react-editor';
import '@toast-ui/editor/dist/toastui-editor.css';
import '@toast-ui/editor/dist/i18n/ko-kr';

export default function PostEditor() {
  return (
    &#x3C;Editor
      previewStyle='vertical'
      height='800px'
      initialEditType='markdown'
      placeholder='Write Something'
      hideModeSwitch={true}
      language='ko-KR'
    />
  );
}
</code></pre>
<p>ê·¸ë¦¬ê³  <code>pages/newpost/index.tsx</code>ì— importí•´ì„œ ì‚¬ìš©í•˜ì˜€ë‹¤.</p>
<blockquote>
<p>ğŸ“Œ Toastì—ë””í„°ëŠ” ssrì„ ì§€ì›í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— <code>next/dynamic</code>ì„ ì‚¬ìš©í•˜ì—¬ ssrì„ í•˜ì§€ ì•Šë„ë¡ ì„¤ì •í•´ì£¼ì—ˆë‹¤. ì•„ë§ˆ Reactë¡œ ì‘ì—…í•˜ëŠ” ê²½ìš°ì—ëŠ” ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ì„ ê²ƒ ê°™ë‹¤.</p>
</blockquote>
<pre><code class="language-tsx">import dynamic from 'next/dynamic';

const PostEditor = dynamic(() => import('@/components/newpost/PostEditor'), {
  ssr: false,
});
</code></pre>
<p>ì •ìƒì ìœ¼ë¡œ ì˜ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>nextjs</category>
            <category>react</category>
            <category>javascript</category>
            <category>typescript</category>
            <category>toast</category>
            <category>editor</category>
        </item>
        <item>
            <title><![CDATA['[NEXT] TOAST Editor customHTMLSanitizer ì‚¬ìš©í•˜ê¸°']]></title>
            <link>https://nostrss.me/2023-08-25-150-toast-next-5</link>
            <guid>2023-08-25-150-toast-next-5</guid>
            <pubDate>Fri, 25 Aug 2023 00:00:00 GMT</pubDate>
            <description><![CDATA['[NEXT] TOAST Editor customHTMLSanitizer ì‚¬ìš©í•˜ê¸°']]></description>
            <content:encoded><![CDATA[<blockquote>
<ul>
<li><a href="https://nostrss.github.io/2023-08-25/146-toast-next-1">1.TOAST Editorì— ì‚¬ìš©í•˜ê¸°</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/147-toast-next-2">2.TOAST Editorì— ì‘ì„±í•œ ê¸€ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°(useRef)</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/148-toast-next-3">3.TOAST Editorì—ì„œ ì´ë¯¸ì§€ ì—…ë¡œë“œí•˜ê¸°(hooks)</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/149-toast-next-4">4.TOAST Editor Viewer ì‚¬ìš©í•˜ê¸°</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/150-toast-next-5">5.TOAST Editor customHTMLSanitizer ì‚¬ìš©í•˜ê¸°</a></li>
</ul>
</blockquote>
<h2>TOAST Editor customHTMLSanitizer ì‚¬ìš©í•˜ê¸°</h2>
<p>ì—ë””í„°ì˜ ê²½ìš° ìœ ì €ê°€ ì•…ì˜ì ì¸ ìš©ë„ë¡œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚½ì…í•˜ì—¬ ê³µê²©í•  ìœ„í—˜ì´ ìˆë‹¤.</p>
<p>ì´ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œëŠ” HTML ìš”ì†Œì— ê³µê²©ì„ í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ë“±ì„ ì‚­ì œí•´ì•¼ í•œë‹¤.</p>
<p>ì´ëŸ° ê¸°ëŠ¥ì„ í•˜ëŠ” npm íŒ¨í‚¤ì§€ê°€ ìˆëŠ”ë°, <code>Dompurify</code>ì´ë‹¤.</p>
<blockquote>
<p><a href="https://www.npmjs.com/package/dompurify?activeTab=readme">ğŸ”— dompurify npm í˜ì´ì§€ ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<h2>TOAST Editor ìì²´ì ì¸ Sanitizer</h2>
<p>ì•ì„œ EditorOptionsì„ ì‚´í´ë´¤ì„ë•Œ <code>customHTMLSanitizer</code>ë¼ëŠ” Propsê°€ ì¡´ì¬í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>
<blockquote>
<p><a href="https://nhn.github.io/tui.editor/latest/ToastUIEditorCore">ğŸ”— EditorOptions ë¬¸ì„œ ë°”ë¡œê°€ê¸° ğŸ”—</a></p>
</blockquote>
<blockquote>
<p><a href="https://ui.toast.com/weekly-pick/ko_monthly_202004">ğŸ”— customHTMLSanitizer ì˜µì…˜ ê¸°ëŠ¥ ì¶”ê°€ ğŸ”—</a></p>
</blockquote>
<pre><code class="language-ts">// node_modules/@toast-ui/editor/types/editor.d.ts
export interface EditorOptions {
  (...)
  customHTMLSanitizer?: Sanitizer;
  (...)
}
</code></pre>
<p><code>customHTMLSanitizer</code>ë¼ëŠ” í‘œí˜„ì´ ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì•„ ì´ëŸ° ìƒê°ì´ ë“¤ì—ˆë‹¤.</p>
<blockquote>
<p>í˜¹ì‹œ Toast Editorì—ëŠ” ì´ë¯¸ Sanitizerê°€ ì ìš©ë˜ì–´ ìˆëŠ”ê²Œ ì•„ë‹ê¹Œ</p>
</blockquote>
<p>í…ŒìŠ¤íŠ¸ë¥¼ í•´ë´ì•¼ê² ë‹¤.</p>
<p><code>dompurify</code> í˜ì´ì§€ì— ìƒ˜í”Œì½”ë“œê°€ ìˆì–´ì„œ ì´ë¥¼ ê°€ì ¸ì™€ì„œ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë´¤ë‹¤.
<code>Markdown</code>, <code>wysiwyg</code> ëª¨ë“œ ë‘˜ë‹¤ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë´¤ë‹¤.</p>
<pre><code class="language-tsx">const onSubmitNewPost = (e: FormEvent) => {
  e.preventDefault();
  const markDownContent = editorRef.current?.getInstance().getMarkdown();
  const htmlContent = editorRef.current?.getInstance().getHTML();
  console.log('1ï¸âƒ£', markDownContent);
  console.log('2ï¸âƒ£', htmlContent);
};
</code></pre>
<p>ì—ë””í„°ì— ìƒ˜í”Œì½”ë“œë¥¼ ì…ë ¥í•˜ê³  ì–´ë–»ê²Œ ê°’ì´ ë°˜í™˜ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ì•˜ë‹¤.</p>
<pre><code class="language-javascript">DOMPurify.sanitize('&#x3C;img src=x onerror=alert(1)//>');
// dompurify : &#x3C;img src="x">
// Markdown :  &#x3C;img src=x onerror=alert(1)//>
// wysiwyg : &#x3C;p>&#x3C;img src="x" contenteditable="false">&#x3C;br>&#x3C;/p>

DOMPurify.sanitize('&#x3C;svg>&#x3C;g/onload=alert(2)//&#x3C;p>');
// dompurify : &#x3C;svg>&#x3C;g>&#x3C;/g>&#x3C;/svg>
// Markdown : &#x3C;svg>&#x3C;g/onload=alert(2)//&#x3C;p>
// wysiwyg : &#x3C;p>&#x26;lt;g/onload=alert(2)//&#x3C;/p>

DOMPurify.sanitize('&#x3C;p>abc&#x3C;iframe//src=jAva&#x26;Tab;script:alert(3)>def&#x3C;/p>');
// dompurify : &#x3C;p>abc&#x3C;/p>
// Markdown : &#x3C;p>abc&#x3C;iframe//src=jAva&#x26;Tab;script:alert(3)>def&#x3C;/p>
// wysiwyg : &#x3C;p>abc&#x3C;/p>

DOMPurify.sanitize('&#x3C;math>&#x3C;mi//xlink:href="data:x,&#x3C;script>alert(4)&#x3C;/script>">');
// dompurify : &#x3C;math>&#x3C;mi>&#x3C;/mi>&#x3C;/math>
// Markdown : &#x3C;math>&#x3C;mi//xlink:href="data:x,&#x3C;script>alert(4)&#x3C;/script>">
// wysiwyg : &#x3C;p>&#x26;lt;mi//xlink:href="data:x,alert(4)"&#x26;gt;&#x3C;/p>

DOMPurify.sanitize('&#x3C;TABLE>&#x3C;tr>&#x3C;td>HELLO&#x3C;/tr>&#x3C;/TABL>');
// dompurify : &#x3C;table>&#x3C;tbody>&#x3C;tr>&#x3C;td>HELLO&#x3C;/td>&#x3C;/tr>&#x3C;/tbody>&#x3C;/table>
// Markdown : &#x3C;TABLE>&#x3C;tr>&#x3C;td>HELLO&#x3C;/tr>&#x3C;/TABL>
// wysiwyg : &#x3C;table>&#x3C;thead>&#x3C;tr>&#x3C;td>&#x3C;p>HELLO&#x3C;/p>&#x3C;/td>&#x3C;/tr>&#x3C;/thead>&#x3C;tbody>&#x3C;tr>&#x3C;/tr>&#x3C;/tbody>&#x3C;/table>

DOMPurify.sanitize('&#x3C;UL>&#x3C;li>&#x3C;A HREF=//google.com>click&#x3C;/UL>');
// dompurify : &#x3C;ul>&#x3C;li>&#x3C;a href="//google.com">click&#x3C;/a>&#x3C;/li>&#x3C;/ul>
// Markdown : &#x3C;UL>&#x3C;li>&#x3C;A HREF=//google.com>click&#x3C;/UL>
// wysiwyg : &#x3C;ul>&#x3C;li>&#x3C;p>&#x3C;a href="//google.com">click&#x3C;/a>&#x3C;/p>&#x3C;/li>&#x3C;/ul>
</code></pre>
<p><code>dompurify</code>ì™€ ë°©ì‹ì€ ë‹¤ë¥´ì§€ë§Œ <code>wysiwyg</code> ëª¨ë“œì—ì„œëŠ” Toast ì—ë””í„° ìì²´ì ìœ¼ë¡œ <code>Sanitizer</code>ê°€ ì ìš©ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>
<h2>Custom Sanitizer ì‚¬ìš©í•˜ê¸°</h2>
<p>ì´ì œëŠ” customHTMLSanitizerë¥¼ ì‚¬ìš©í•´ë³´ë ¤ê³  í•œë‹¤.</p>
<pre><code class="language-ts">export type Sanitizer = (content: string) => string;
</code></pre>
<p><code>customHtmlSanitizer</code>ëŠ” <code>Sanitizer</code>ë¼ëŠ” íƒ€ì…ì„ ê°€ì§€ê³  ìˆê³ , <code>Sanitizer</code>ëŠ” <code>content</code>ë¼ëŠ” <code>string</code>ì„ ë°›ì•„ì„œ <code>string</code>ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.</p>
<p>ì¼ë‹¨ ê°„ë‹¨íˆ í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³´ê¸° ìœ„í•´ì„œ ì•„ë˜ì™€ ê°™ì´ í•¨ìˆ˜ë¥¼ í•˜ë‚˜ ì‘ì„±í•˜ì—¬ <code>customHTMLSanitizer</code>ì™€ ì—°ê²°í•´ë³´ì•˜ë‹¤.</p>
<pre><code class="language-tsx">export default function PostEditor({
  editorRef,
}: {
  editorRef: RefObject&#x3C;Editor>;
}) {
  // í…ŒìŠ¤íŠ¸ìš© Sanitizer í•¨ìˆ˜
  const testSanitizer = (text: string) => {
    console.log(text);
    return text;
  };

  return (
    &#x3C;Editor
      ref={editorRef}
      previewStyle='vertical'
      height='800px'
      initialEditType='markdown'
      placeholder='Write Something'
      hideModeSwitch={true}
      language='ko-KR'
      customHTMLSanitizer={testSanitizer}
    />
  );
}
</code></pre>
<p><code>testSanitizer</code> í•¨ìˆ˜ê°€ ì˜ ì—°ê²°ë˜ì–´ ì‘ë™ì„ í•œë‹¤ë©´, <code>console.log(text)</code>ê°€ ì‹¤í–‰ë˜ì–´ ì½˜ì†”ì— <code>text</code>ê°€ ì¶œë ¥ë  ê²ƒì´ë‹¤.</p>
<p>í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í• ë•Œ ë§ˆë‹¤ ì§ì ‘ ìƒì„±í•œ <code>testSanitizer</code> í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.</p>
<blockquote>
<p>ì¦‰, Toast Editorì—ëŠ” ì´ë¯¸ Sanitizerê°€ ì ìš©ë˜ì–´ ìˆë‹¤. ê·¸ë¦¬ê³  ë³„ë„ì˜ Sanitizerë¥¼ ì ìš©í•˜ë ¤ë©´ customHTMLSanitizerì— stringì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ì„œ stringì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë„£ì–´ì£¼ë©´ ëœë‹¤.</p>
</blockquote>
<h2>dompurify ì ìš©í•˜ê¸°</h2>
<p>Toast Editor ìì²´ì ìœ¼ë¡œ Sanitizerê°€ ì ìš©ë˜ì–´ ìˆì§€ë§Œ, <code>dompurify</code>ë¥¼ ì ìš©í•´ë³´ê¸°ë¡œ í–ˆë‹¤.</p>
<p>ì¼ë‹¨ ê¸€ì„ ì‘ì„±í•˜ëŠ” ì—ë””í„°ì— ì ìš©ì„ í•´ì£¼ì—ˆë‹¤. ë°©ë²•ì€ ê°„ë‹¨í–ˆë‹¤.</p>
<pre><code class="language-tsx">// dompurify Import
import * as DOMPurify from 'dompurify';

export default function PostEditor({
  editorRef,
}: {
  editorRef: RefObject&#x3C;Editor>;
}) {
  const customSanitizer = DOMPurify.sanitize;

  return (
    &#x3C;Editor
      ref={editorRef}
      previewStyle='vertical'
      height='800px'
      initialEditType='markdown'
      placeholder='Write Something'
      hideModeSwitch={true}
      language='ko-KR'
      // customHTMLSanitizerì— dompurify ì ìš©
      customHTMLSanitizer={customSanitizer}
    />
  );
}
</code></pre>
<p>ê·¸ë¦¬ê³  <code>Viewer</code>ì—ë„ ë™ì¼í•˜ê²Œ ì ìš©ì„ í•´ì£¼ì—ˆë‹¤.</p>
<p>ì‘ì„±í• ë•Œ ì´ë¯¸ dompurifyê°€ ì ìš©ë˜ì–´ ìˆê¸´ í•˜ì§€ë§Œ, <code>Viewer</code>ì—ì„œë„ <code>dompurify</code>ë¥¼ ì ìš©í•´ì£¼ëŠ” ê²ƒì´ ë³´ì•ˆì— ì¢‹ì„ ê²ƒ ê°™ì•„ì„œ ì ìš©í•´ì£¼ì—ˆë‹¤.</p>
<pre><code class="language-tsx">import { Viewer } from '@toast-ui/react-editor';
import * as DOMPurify from 'dompurify';

export default function EditorViewer({
  initialValue,
}: {
  initialValue: string;
}) {
  const customSanitizer = DOMPurify.sanitize;

  return (
    &#x3C;Viewer initialValue={initialValue} customHTMLSanitizer={customSanitizer} />
  );
}
</code></pre>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>nextjs</category>
            <category>react</category>
            <category>javascript</category>
            <category>typescript</category>
            <category>toast</category>
            <category>dompurify</category>
        </item>
        <item>
            <title><![CDATA['[NEXT] TOAST Editor Viewer ì‚¬ìš©í•˜ê¸°']]></title>
            <link>https://nostrss.me/2023-08-25-149-toast-next-4</link>
            <guid>2023-08-25-149-toast-next-4</guid>
            <pubDate>Fri, 25 Aug 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<blockquote>
<ul>
<li><a href="https://nostrss.github.io/2023-08-25/146-toast-next-1">1.TOAST Editorì— ì‚¬ìš©í•˜ê¸°</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/147-toast-next-2">2.TOAST Editorì— ì‘ì„±í•œ ê¸€ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°(useRef)</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/148-toast-next-3">3.TOAST Editorì—ì„œ ì´ë¯¸ì§€ ì—…ë¡œë“œí•˜ê¸°(hooks)</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/149-toast-next-4">4.TOAST Editor Viewer ì‚¬ìš©í•˜ê¸°</a></li>
<li><a href="https://nostrss.github.io/2023-08-25/150-toast-next-5">5.TOAST Editor customHTMLSanitizer ì‚¬ìš©í•˜ê¸°</a></li>
</ul>
</blockquote>
<h2>TOAST Editor Viewer ì‚¬ìš©í•˜ê¸°</h2>
<p>ì˜ˆì „ì— <code>React Quill</code>ì˜ ê²½ìš°ì—ëŠ” <code>Viewer</code>ë¥¼ ë”°ë¡œ ì œê³µí•˜ì§€ ì•Šê³ , <code>readOnly</code> ì†ì„±ì„ í†µí•´ í¸ì§‘ê¸°ì™€ ë·°ì–´ë¥¼ êµ¬ë¶„í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆì—ˆë‹¤.</p>
<p>í•˜ì§€ë§Œ <code>TOAST Editor</code>ì˜ ê²½ìš°ì—ëŠ” ì•„ì˜ˆ <code>Viewer</code>ë¥¼ ë”°ë¡œ ì œê³µí•˜ê³  ìˆì—ˆë‹¤.</p>
<p>ë¬¸ì„œì—ì„œëŠ” ì°¾ì§€ ëª»í–ˆëŠ”ë°, íƒ€ì…ì— ì•„ë˜ì™€ ê°™ì´ ì •ì˜ê°€ ë˜ì–´ ìˆì–´ì„œ ì‚¬ìš©í•´ë´¤ë‹¤.</p>
<pre><code class="language-ts">export class Viewer extends Component&#x3C;ViewerProps> {
  getInstance(): ToastuiEditorViewer;

  getRootElement(): HTMLElement;
}
</code></pre>
<p>ì´ì œ ìƒì„¸ í˜ì´ì§€ì— Viewerë¥¼ ì ìš©í•´ë³´ì.</p>
<pre><code class="language-tsx">import { Viewer } from '@toast-ui/react-editor';

export default function EditorViewer({
  initialValue,
}: {
  initialValue: string;
}) {
  return &#x3C;Viewer initialValue={initialValue} />;
}
</code></pre>
<p>ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ <code>Props</code>ë¡œ <code>initialValue</code>ì— ì»¨í…ì¸  ì •ë³´ë¥¼ ë°›ì•„ì˜¤ê³ , ì´ê²ƒì„ ë‹¨ìˆœíˆ <code>Viewer</code>ì— ì „ë‹¬í•´ì£¼ê¸°ë§Œ í•˜ë©´ ëœë‹¤.</p>
<p><code>Viewer</code>ì˜ ê²½ìš°ì—ë„ <code>import</code>ì‹œ ì•„ë˜ì™€ ê°™ì´ <code>dynamic import</code>ë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤.</p>
<pre><code class="language-tsx">const EditorViewer = dynamic(() => import('@/components/post/EditorViewer'), {
  ssr: false,
});
</code></pre>
<p>ì ìš©í•œ ê²°ê³¼ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>nextjs</category>
            <category>react</category>
            <category>javascript</category>
            <category>typescript</category>
            <category>toast</category>
            <category>editor</category>
        </item>
        <item>
            <title><![CDATA['PostgresSQL ì„¤ì¹˜ ì‹œ "/tmp/.s.PGSQL.5432" ì—ëŸ¬']]></title>
            <link>https://nostrss.me/2023-08-24-145-postgre-install-error</link>
            <guid>2023-08-24-145-postgre-install-error</guid>
            <pubDate>Thu, 24 Aug 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>Nest.jsë¥¼ ê³µë¶€í•˜ë©´ì„œ Brewë¡œ PostgresSQLì„ ì„¤ì¹˜í•˜ê³  DBë¥¼ ì—°ê²°í•˜ë ¤ê³  í–ˆëŠ”ë° ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.</p>
<pre><code class="language-bash">psql postgres

psql: error: connection to server on socket "/tmp/.s.PGSQL.5432" failed: No such file or directory
</code></pre>
<p>ê²€ìƒ‰ì„ í•´ë³´ë‹ˆ ë‹¤ì–‘í•œ ê²°ê³¼ë“¤ì´ ë‚˜ì™”ë‹¤.</p>
<ul>
<li>ì‚­ì œ í›„ ì¬ì„¤ì¹˜ í•˜ëŠ” ë°©ë²•</li>
<li>ì¬ë¶€íŒ… í•˜ëŠ” ë°©ë²•</li>
<li>postgresql@13ì„ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•(ë‚˜ëŠ” 14ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ì‹¶ì—ˆë‹¤.)</li>
</ul>
<p>chatgptë„ ì‚¬ìš©í•´ë´¤ìœ¼ë‚˜ ì „ë¶€ ì‹¤íŒ¨í–ˆë‹¤.</p>
<p>ê·¸ëŸ¬ë‹¤ stackoverflowì—ì„œ ì•„ë˜ì™€ ê°™ì€ ë‹µë³€ì„ ì°¾ì•˜ë‹¤.</p>
<p><a href="https://stackoverflow.com/questions/69754628/psql-error-connection-to-server-on-socket-tmp-s-pgsql-5432-failed-no-such">stack overflow ì›ë³¸ë§í¬</a></p>
<p>ìœ„ì˜ ë§í¬ ì¤‘ê°„ì— ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ë‹µë³€ì´ ìˆì—ˆë‹¤.</p>
<pre><code class="language-bash">brew services start postgresql
</code></pre>
<p>ìœ„ì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê³  ë‹¤ì‹œ psqlì„ ì‹¤í–‰í•˜ë‹ˆ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆë‹¤.</p>
<pre><code>psql postgres
</code></pre>
<p>ê°œë°œì€ ì²˜ìŒì— ì„¤ì¹˜ì™€ í™˜ê²½ì„¤ì •ì´ ì œì¼ ì–´ë µë‹¤..</p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>nestjs</category>
            <category>node</category>
            <category>express</category>
            <category>javascript</category>
            <category>typescript</category>
        </item>
        <item>
            <title><![CDATA['[Nest.js] - ì†Œê°œ']]></title>
            <link>https://nostrss.me/2023-08-23-144-nestjs</link>
            <guid>2023-08-23-144-nestjs</guid>
            <pubDate>Wed, 23 Aug 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<blockquote>
<p><a href="https://docs.nestjs.com/">Nest.js ê³µì‹ ë¬¸ì„œ</a>ë¥¼ ì°¸ê³ í•˜ì˜€ìŠµë‹ˆë‹¤.</p>
</blockquote>
<h2>Nest.jsë€?</h2>
<ul>
<li>Node.js ì„œë²„ ì¸¡ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•˜ê¸° ìœ„í•œ í”„ë ˆì„ ì›Œí¬</li>
</ul>
<h2>íŠ¹ì§•</h2>
<ul>
<li><code>Angular</code>ì™€ ë¹„ìŠ·í•œ êµ¬ì¡°ì´ë©° ì´ì— ì˜ê°ì„ ë°›ì€ ê²ƒìœ¼ë¡œ ì•Œë ¤ì ¸ ìˆìŠµë‹ˆë‹¤.</li>
<li><code>Typescript</code>ë¥¼ ê¸°ë³¸ ì–¸ì–´ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
<li><code>Express</code>ë¥¼ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ë©° <code>Fastify</code>ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
<li>ê°ì²´ì§€í–¥ ê°œë…ì„ ë„ì…í•˜ì˜€ìŠµë‹ˆë‹¤.</li>
</ul>
<h2>ì¥ì </h2>
<h3>Angularì™€ ë¹„ìŠ·í•œ êµ¬ì¡°</h3>
<ul>
<li>ëª¨ë“ˆ/ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•¨ìœ¼ë¡œì¨ ì¬ì‚¬ìš©ì„±ì„ ë†’ì—¬ì¤ë‹ˆë‹¤.
<blockquote>
<p>í”„ë¡ íŠ¸ ì—”ë“œë¥¼ ë¨¼ì € ì‹œì‘í•œ ë‚˜ë¡œì„œëŠ” ëª¨ë“ˆê¸°ë°˜ì´ë¼ëŠ” ë§ì´ ì˜ ì™€ë‹¿ì§€ ì•Šì•˜ë‹¤.</p>
</blockquote>
</li>
</ul>
<h3>Expressì˜ ë‹¨ì ì„ ë³´ì™„</h3>
<ul>
<li>
<p>expresssëŠ” í›Œë¥­í•œ í”„ë ˆì„ì›Œí¬ì´ì§€ë§Œ, ê³¼ë„í•œ ìœ ì—°í•¨ìœ¼ë¡œ ì¸í•´ SWì˜ í’ˆì§ˆì´ ì¼ì •í•˜ì§€ ì•Šê³  ì•Œë§ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì°¾ê¸° ìœ„í•´ ì‚¬ìš©ìê°€ ë§ì€ ì‹œê°„ì„ í• ì• í•´ì•¼ í•©ë‹ˆë‹¤.</p>
</li>
<li>
<p>í•˜ì§€ë§Œ Nest.jsëŠ” ë°ì´í„°ë² ì´ìŠ¤, ORM, ì„¤ì •(Configuration), ìœ íš¨ì„± ê²€ì‚¬ ë“± ìˆ˜ë§ì€ ê¸°ëŠ¥ì„ ê¸°ë³¸ ì œê³µí•˜ê³  ìˆë‹¤. ê·¸ëŸ¬ë©´ì„œë„ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‰½ê²Œ ì„¤ì¹˜í•˜ì—¬ ê¸°ëŠ¥ì„ í™•ì¥í•  ìˆ˜ ìˆëŠ” Node.js ì¥ì ì€ ê·¸ëŒ€ë¡œ ê°€ì§€ê³  ìˆë‹¤ê³  í•œë‹¤.</p>
</li>
</ul>
<blockquote>
<p>ì¦‰, ExpressëŠ” React, Nest.jsëŠ” Next.js, Nuxt.jsì™€ ê°™ì€ í”„ë¡ íŠ¸ì—”ë“œ í”„ë ˆì„ì›Œí¬ì™€ ë¹„ìŠ·í•œ ì—­í• ì„ í•œë‹¤ê³  ì´í•´í•˜ë©´ ë  ê²ƒ ê°™ë‹¤.</p>
</blockquote>
<h2>ì„¤ì¹˜ ë° ì„¤ì •</h2>
<p>ì•„ë˜ 2ê°œì˜ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰í•˜ì—¬ ì„¤ì¹˜ì™€ ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ì„¤ì • í•  ìˆ˜ ìˆë‹¤.</p>
<pre><code class="language-bash">npm i -g @nestjs/cli
nest new project-name

</code></pre>
<h3>í•µì‹¬ íŒŒì¼</h3>
<p>ì„¤ì¹˜ë¥¼ ì™„ë£Œí•˜ë©´ src í´ë”ì— ì•„ë˜ì™€ ê°™ì€ íŒŒì¼ë“¤ì´ ìƒì„±ëœë‹¤.</p>
<p>|                          |                                                                                                                                                             |
| ------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <code>app.controller.ts</code>      | í´ë¼ì´ì–¸íŠ¸ë¡œ ë¶€í„° ë“¤ì–´ì˜¤ëŠ” ìš”ì²­ì„ <code>service</code>ì•  ìœ„ì„í•˜ê³  ì²˜ë¦¬ëœ ê²°ê³¼ë¥¼ ë‹¤ì‹œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°˜í™˜í•˜ëŠ” ì¼ì„ ë‹´ë‹¹í•œë‹¤. HTTP ìš”ì²­ ë©”ì„œë“œ(GET, POST ë“±)ë¥¼ ì •ì˜í•œë‹¤. |
| <code>app.controller.spec.ts</code> | ì»¨íŠ¸ë¡¤ëŸ¬ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ íŒŒì¼ ì´ë‹¤.                                                                                                                      |
| <code>app.module.ts</code>          | ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë£¨íŠ¸ ëª¨ë“ˆ. Nest.jsì—ì„œëŠ” ëª¨ë“ˆì„ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì„±í•œë‹¤. ëª¨ë“ˆì€ ê¸°ëŠ¥ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ë‹¹í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ì˜ ì§‘í•©ì´ë¼ í•  ìˆ˜ ìˆë‹¤.     |
| <code>app.service.ts</code>         | <code>controller</code>ë¡œë¶€í„° ìœ„ì„ë°›ì€ ìš”ì²­ì„ ì‹¤ì œë¡œ ì²˜ë¦¬í•˜ê³  ë°˜í™˜í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ì¦‰,ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ êµ¬í˜„í•˜ëŠ” ì—­í• ì´ë¼ê³  ë³¼ ìˆ˜ ìˆë‹¤.                                 |
| <code>main.ts</code>                | Nest.jsì˜ ì§„ì…ì , NestFactoryí•µì‹¬ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì—¬ Nest ì• í”Œë¦¬ì¼€ì´ì…˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ í•­ëª© íŒŒì¼ì´ë‹¤. HTTP ì„œë²„ë¥¼ ì‹œì‘í•˜ëŠ” ì—­í• ì„ í•œë‹¤.     |</p>
<h2>ì‹¤í–‰</h2>
<pre><code class="language-bash">npm run start
npm run start:dev // ê°œë°œ ëª¨ë“œ
</code></pre>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>nestjs</category>
            <category>node</category>
            <category>express</category>
            <category>javascript</category>
            <category>typescript</category>
        </item>
        <item>
            <title><![CDATA['reduce ì‚¬ìš©ë²• ì •ë¦¬']]></title>
            <link>https://nostrss.me/2023-07-11-142-javascript-reduce</link>
            <guid>2023-07-11-142-javascript-reduce</guid>
            <pubDate>Tue, 11 Jul 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>ì¢€ ì²˜ëŸ¼ í”„ë¡ íŠ¸ì—”ë“œ ì‹¤ë¬´ë¥¼ í•˜ë©´ì„œëŠ” ìì£¼ ì‚¬ìš©í•  ê¸°íšŒê°€ ì—†ì—ˆë˜ ë©”ì†Œë“œê°€ ë°”ë¡œ reduceì˜€ë‹¤.</p>
<p>ì–¼ë§ˆ ì „ ì§€ì¸ì˜ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì£¼ë‹¤ê°€ reduceë¥¼ ì‚¬ìš©í•œ ë¶€ë¶„ì´ ìˆì–´ì„œ ì •ë¦¬í•´ë´¤ë‹¤.</p>
<h2>ë“±ì°¨ìˆ˜ì—´</h2>
<p>ê°‘ìê¸° ë“±ì°¨ìˆ˜ì—´ì´ ì™œ ë‚˜ì˜¤ëƒê³ ? ë¼ê³  ìƒê°í•  ìˆ˜ ìˆì§€ë§Œ, reduceë¥¼ ì‚¬ìš©í•˜ë©´ì„œ ë“±ì°¨ìˆ˜ì—´ì„ ê³µì‹ê³¼ ì—°ê´€ì§€ì–´ ìƒê°í•˜ë‹ˆ ì´í•´ê°€ ì‰¬ì›Œì ¸ì„œ ì˜ˆì‹œë¥¼ ë“¤ì—ˆë‹¤.</p>
<h3>ë“±ì°¨ìˆ˜ì—´ ê³µì‹</h3>
<pre><code class="language-text">a(n) = a(1) + (n - 1) * d
</code></pre>
<p>ë“±ì°¨ ìˆ˜ì—´ì˜ ê³µì‹ì€ ìœ„ì™€ ê°™ë‹¤.</p>
<p>ìˆ˜ì—´ì˜ ì²« í•­ a(1)ì´ ìˆê³  ê³µì°¨ dê°€ ìˆë‹¤ë©´, në²ˆì§¸ í•­ì€ ìœ„ì™€ ê°™ì´ êµ¬í•  ìˆ˜ ìˆë‹¤.</p>
<p>ì´ê²ƒì„ reduceì™€ ë¹„êµí•´ë³´ì.</p>
<h3>reduce</h3>
<p>ë¦¬ë“€ìŠ¤ì˜ êµ¬ë¬¸ì€ ì•„ë˜ì™€ ê°™ë‹¤.</p>
<pre><code class="language-js"> arr.reduce(callback[, initialValue])
</code></pre>
<p>callbackì€ í•„ìˆ˜ê°’ì´ê³ , initialValueëŠ” ì˜µì…˜ì´ë‹¤.</p>
<p>reduce ë©”ì†Œë“œëŠ” initialValue ê°’ì— callback í•¨ìˆ˜ë¥¼ ì ìš©í•˜ì—¬ í•˜ë‚˜ì˜ ê²°ê³¼ê°’ì„ ë§Œë“¤ì–´ë‚¸ë‹¤.</p>
<p>ì¦‰, ë“±ì°¨ìˆ˜ì—´ì˜ ì²«í•­ a(1)ì´ initialValueì´ê³ , ê³µì°¨ dê°€ callback í•¨ìˆ˜ë¼ê³  ìƒê°í•˜ë©´ ì´í•´ê°€ ì‰½ë‹¤.</p>
<p>mdnì— ë‚˜ì™€ ìˆëŠ” ì˜ˆì‹œë¥¼ í†µí•´ ì‚´í´ë³´ì.</p>
<p><a href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce">mdn reduce ì˜ˆì‹œ </a></p>
<pre><code class="language-js">[0, 1, 2, 3, 4].reduce(function (
  accumulator,
  currentValue,
  currentIndex,
  array
) {
  return accumulator + currentValue;
},
10);
</code></pre>
<p>|  callback  | accumulator | currentValue | currentIndex |      array      | return value |
| :--------: | :---------: | :----------: | :----------: | :-------------: | :----------: |
| 1ë²ˆì§¸ í˜¸ì¶œ |     10      |      0       |      0       | [0, 1, 2, 3, 4] |      10      |
| 2ë²ˆì§¸ í˜¸ì¶œ |     10      |      1       |      1       | [0, 1, 2, 3, 4] |      11      |
| 3ë²ˆì§¸ í˜¸ì¶œ |     11      |      2       |      2       | [0, 1, 2, 3, 4] |      13      |
| 4ë²ˆì§¸ í˜¸ì¶œ |     13      |      3       |      3       | [0, 1, 2, 3, 4] |      16      |
| 5ë²ˆì§¸ í˜¸ì¶œ |     16      |      4       |      4       | [0, 1, 2, 3, 4] |      20      |</p>
<p>ìœ„ì˜ í‘œë¥¼ ë³´ë©´ ì´í•´ê°€ ì‰½ë‹¤.</p>
<p>initialValueê°€ 10ì´ê³ , callback í•¨ìˆ˜ê°€ accumulatorì— currentValueë¥¼ ë”í•´ì£¼ëŠ” í˜•íƒœì´ë‹¤.</p>
<p>ì¦‰, ë“±ì°¨ìˆ˜ì—´ì—ì„œ ê³µì°¨ dê°€ 1ì´ë¼ê³  ìƒê°í•˜ë©´, initialValueëŠ” a(1)ì´ê³ , callback í•¨ìˆ˜ëŠ” dê°€ ëœë‹¤.</p>
<p>ë¬¼ë¡  reduceê°€ ë“±ì°¨ìˆ˜ì—´ë¡œë§Œ ì ìš©ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆê³  ë‹¤ì–‘í•œ ìš©ë„ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, ì´ë ‡ê²Œ ì´í•´ë“¤ í•´ë‘ê³  ë‚˜ë¨¸ì§€ëŠ” ì‘ìš©ì„ í•˜ë©´ ë˜ê² ë‹¤.</p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>javascript</category>
            <category>reduce</category>
        </item>
        <item>
            <title><![CDATA['[NEXT] page.js (with App Router)']]></title>
            <link>https://nostrss.me/2023-07-11-141-next-page-app-router</link>
            <guid>2023-07-11-141-next-page-app-router</guid>
            <pubDate>Tue, 11 Jul 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<h2>Props</h2>
<p>NEXT.JSì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ì— Propsë¡œ paramsì™€ searchParamsë¥¼ ì „ë‹¬í•´ì¤€ë‹¤.</p>
<p>ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì•„ë¬´ëŸ° Propsë¥¼ ì „ë‹¬í•˜ì§€ ì•Šì•„ë„ paramsì™€ searchParamsë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<pre><code class="language-js">export default function Page({
  params,
  searchParams,
}: {
  params: { slug: string }
  searchParams: { [key: string]: string | string[] | undefined }
}) {
  return &#x3C;h1>My Page&#x3C;/h1>
}
</code></pre>
<h2>params</h2>
<p><code>params</code>: URLì˜ pathì— ìˆëŠ” ë™ì  ê²½ë¡œ íŒŒë¼ë¯¸í„°ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´ì´ë‹¤.</p>
<p>ì˜ˆë¥¼ ë“¤ë©´ ì•„ë˜ì™€ ê°™ë‹¤.</p>
<p>| Example                            | URL       | params                       |
| :--------------------------------- | :-------- | :--------------------------- |
| app/shop/[slug]/page.js            | /shop/1   | { slug: '1' }                |
| app/shop/[category]/[item]/page.js | /shop/1/2 | { category: '1', item: '2' } |
| app/shop/[...slug]/page.js         | /shop/1/2 | { slug: ['1', '2'] }         |</p>
<p>ì˜ˆì „ì— ë‚˜ëŠ” useRouterë¥¼ ì‚¬ìš©í•´ì„œ paramsë¥¼ ê°€ì ¸ì™”ì—ˆëŠ”ë°, ì´ì œëŠ” ì´ë ‡ê²Œ ê°„ë‹¨í•˜ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆë‹¤.</p>
<h2>searchParams</h2>
<p><code>searchParams</code>: URLì˜ query stringì— ìˆëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ë‹´ê³  ìˆëŠ” ê°ì²´</p>
<p>| URL           | searchParams       |
| :------------ | :----------------- |
| /shop?a=1     | { a: '1' }         |
| /shop?a=1&#x26;b=2 | { a: '1', b: '2' } |
| /shop?a=1&#x26;a=2 | { a: ['1', '2'] }  |</p>
<h2>useRouter ë³€ê²½ì‚¬í•­</h2>
<p>ê·¸ë¦¬ê³  ì´ì™€ ê´€ë ¨í•˜ì—¬ ëª‡ê°€ì§€ ë‹¬ë¼ì§„ ì ì´ ìˆë‹¤. íŠ¹íˆ ë‚´ê°€ ë§ì´ ì‚¬ìš©í•˜ë˜ ê²ƒë“¤ ì¤‘ì— ë‹¬ë¼ì§„ ì‚¬í•­ì´ ìˆì–´ ì •ë¦¬í•´ë´¤ë‹¤.</p>
<blockquote>
<p>ìƒˆë¡œìš´ useRouterëŠ” importì‹œ next/navigationì—ì„œ ê°€ì ¸ì™€ì•¼í•œë‹¤.(ê¸°ì¡´ next/router)</p>
</blockquote>
<blockquote>
<p>ë¬¸ìì—´ pathnameì€ usePathname()ìœ¼ë¡œ ëŒ€ì²´ë˜ì—ˆë‹¤.</p>
</blockquote>
<blockquote>
<p>ë¬¸ìì—´ queryëŠ” useQuery()ë¡œ ëŒ€ì²´ë˜ì—ˆë‹¤.</p>
</blockquote>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>nextjs</category>
            <category>react</category>
            <category>app-router</category>
            <category>pagejs</category>
        </item>
        <item>
            <title><![CDATA['React server componentì™€ Next.js']]></title>
            <link>https://nostrss.me/2023-07-11-143-react-nextjs-server-component</link>
            <guid>2023-07-11-143-react-nextjs-server-component</guid>
            <pubDate>Tue, 11 Jul 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>React 18 ë²„ì „ì—ì„œ ìƒˆë¡œ ì¶”ê°€ëœ ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ê°€ ë°”ë¡œ server componentì´ë‹¤.</p>
<p>ì•„ì§ ë§ì´ ì“°ì´ëŠ” ê²ƒ ê°™ì§€ëŠ” ì•Šì§€ë§Œ, Next.jsì—ì„œë„ app routerê°€ ì •ì‹ ë²„ì „ìœ¼ë¡œ ë‚˜ì˜¤ë©´ì„œ server componentë¥¼ ì§€ì›í•œë‹¤ê³  í•œë‹¤.</p>
<p>ê·¸ë˜ì„œ ì´ì— ëŒ€í•´ ì¡°ê¸ˆ ê³µë¶€í•´ë³´ì•˜ë‹¤.</p>
<h2>React server componentëŠ” ì™œ ë‚˜ì™”ì„ê¹Œ?</h2>
<h3>ë²ˆë“¤ ì‚¬ì´ì¦ˆ ìµœì í™”</h3>
<p>React18 ì´ì „ì˜ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” í•œë§ˆë””ë¡œ 'í´ë¼ì´ì–¸íŠ¸' ì»´í¬ë„ŒíŠ¸ì˜€ë‹¤.</p>
<p>ê·¸ë˜ì„œ ëª¨ë“  ê²ƒì´ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ë˜ì—ˆë‹¤.(CSRì¸ ê²½ìš°)</p>
<p>ì½”ë“œë¥¼ ë‹¤ìš´ë¡œë“œ í•˜ê³ , DOMì— ë Œë”ë§í•˜ê³ , Dataë¥¼ fetchí•˜ê³ , ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ëŠ” ê²ƒê¹Œì§€ ëª¨ë‘ ë¸Œë¼ìš°ì €ì—ì„œ ìˆ˜í–‰ë˜ì—ˆë‹¤.</p>
<p>ì´ëŠ” ë²ˆë“¤ ì‚¬ì´ì¦ˆê°€ ì»¤ì§€ëŠ” ì›ì¸ì´ ë˜ì—ˆë‹¤.</p>
<p>í•˜ì§€ë§Œ ì„œë²„ì—ì„œ ë Œë”ë§ì„ í•  ìˆ˜ ìˆê²Œ ëœë‹¤ë©´, ë¸Œë¼ìš°ì €ì—ì„œ ìˆ˜í–‰í•  ì‘ì—…ì„ ì¤„ì¼ ìˆ˜ ìˆê³ , ë²ˆë“¤ ì‚¬ì´ì¦ˆë¥¼ ì¤„ì¼ ìˆ˜ ìˆê²Œ ëœë‹¤.</p>
<p>ì¦‰, ê·¸ë™ì•ˆ ë¸Œë¼ìš°ì €ì—ì„œ í•˜ë˜ ì¼ì„ ì„œë²„ì™€ ë¸Œë¼ìš°ì €ê°€ ë‚˜ëˆ ì„œ ì‘ì—…ì„ í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.</p>
<h3>ì„œë²„ ë¦¬ì†ŒìŠ¤ ë¦¬ì†ŒìŠ¤ ì ‘ê·¼</h3>
<p>ì„œë²„ëŠ” ë°ì´í„° ë² ì´ìŠ¤, GraphQL, íŒŒì¼ì‹œìŠ¤í…œ ë“± ë°ì´í„° ë¦¬ì†ŒìŠ¤ì— ë¹ ë¥´ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆê³ , ì´ë¥¼ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì— Propsë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.</p>
<h3>ì„œë²„ ì»´í¬ë„ŒíŠ¸ì™€ SSR</h3>
<p>ë‚˜ë„ ì°©ê° í–ˆë˜ ê²ƒ ì¤‘ í•˜ë‚˜ì¸ë° RSCëŠ” SSRê³¼ëŠ” ë‹¤ë¥´ë‹¤.</p>
<p><code>server</code>ë¼ëŠ” ë‹¨ì–´ê°€ ë‘˜ë‹¤ ë“¤ì–´ê°€ì„œ ë”± ì°©ê°í•˜ê¸° ì¢‹ì€ ë“¯í•˜ë‹¤.</p>
<p>ì¢‹ì€ ë‚´ìš©ì´ ìˆì–´ì„œ ì•„ë˜ì— ì¸ìš©í•´ë´¤ë‹¤.</p>
<blockquote>
<p>Does this(RSC) replace SSR?</p>
</blockquote>
<blockquote>
<p>No, theyâ€™re complementary. SSR is primarily a technique to quickly display a non-interactive version of client components. You still need to pay the cost of downloading, parsing, and executing those Client Components after the initial HTML is loaded.
You can combine Server Components and SSR, where Server Components render first, with Client Components rendering into HTML for fast non-interactive display while they are hydrated. When combined in this way you still get fast startup, but you also dramatically reduce the amount of JS that needs to be downloaded on the client.</p>
</blockquote>
<h2>Next.jsì—ì„œì˜ RSC</h2>
<p>ì–¼ë§ˆì „ì— app routerê°€ ì •ì‹ ë²„ì „ìœ¼ë¡œ ë‚˜ì™”ë‹¤.</p>
<p>ë§ì€ ë³€í™”ê°€ ìˆì—ˆì§€ë§Œ ê°€ì¥ í° ë³€í™”ëŠ” ì•„ë§ˆ app í´ë”ê°€ ìƒê¸´ ê²ƒì´ ì•„ë‹ê¹Œ ì‹¶ë‹¤.</p>
<p>ê¸°ì¡´ ë²„ì „ì˜ Next.jsì—ì„œëŠ” pages í´ë”ì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì „ë¶€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¡œ ì·¨ê¸‰í•˜ì˜€ë‹¤.</p>
<p>ê·¸ë¦¬ê³  ì´ë²ˆ ë²„ì „ì— ì¶”ê°€ëœ app í´ë”ëŠ” ë””í´íŠ¸ë¡œ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ì„œë²„ ì»´í¬ë„ŒíŠ¸ ì·¨ê¸‰ì„ í•œë‹¤.</p>
<blockquote>
<p>ë‹¹ë¶„ê°„ì€ pagesí´ë”ì™€ appí´ë”ë¥¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.</p>
</blockquote>
<h3>ë¬´ì—‡ì´ ë‹¬ë¼ì§€ëŠ”ê°€?</h3>
<p>ì„œë²„ ì»´í¬ë„ŒíŠ¸ì™€ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬ë¶„í•˜ì—¬ ì‚¬ìš©í•  ì¤„ ì•Œì•„ì•¼ í•  ê²ƒ ê°™ë‹¤.</p>
<p>ì„œë²„ ì»´í¬ë„ŒíŠ¸ëŠ” Node.js í™˜ê²½ì—ì„œ ì‹¤í–‰ë˜ê³ , í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ëŠ” ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œ ì‹¤í–‰ëœë‹¤.</p>
<p>ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì„œë²„ ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ê¸°ì¡´ì— ìš°ë¦¬ê°€ ì‚¬ìš©í–ˆë˜ Browser APIs, ì´ë²¤íŠ¸, React Lifecycle Effect, Hooks ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤.</p>
<p>ê¸°ì¡´ì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì•„ë˜ì™€ ê°™ì´ ìµœìƒë‹¨ì— <code>use client</code>ë¥¼ ì„ ì–¸í•´ì£¼ë©´ ëœë‹¤.</p>
<pre><code class="language-js">'use client';

import { useState } from 'react';

export default function Counter() {
  const [count, setCount] = useState(0);

  return (
    &#x3C;div>
      &#x3C;p>You clicked {count} times&#x3C;/p>
      &#x3C;button onClick={() => setCount(count + 1)}>Click me&#x3C;/button>
    &#x3C;/div>
  );
}
</code></pre>
<h2>Reference</h2>
<ul>
<li><a href="https://github.com/reactjs/rfcs/blob/main/text/0188-server-components.md">https://github.com/reactjs/rfcs/blob/main/text/0188-server-components.md</a></li>
<li><a href="https://tech.kakaopay.com/post/react-server-components/">https://tech.kakaopay.com/post/react-server-components/</a></li>
<li><a href="https://yceffort.kr/2022/01/how-react-server-components-work">https://yceffort.kr/2022/01/how-react-server-components-work</a></li>
</ul>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>react</category>
            <category>rsc</category>
            <category>next.js</category>
        </item>
        <item>
            <title><![CDATA['ë Œë”ë§ì˜ ì¢…ë¥˜ì™€ ìš©ì–´ ì •ë¦¬']]></title>
            <link>https://nostrss.me/2023-07-10-140-frontend-of-term</link>
            <guid>2023-07-10-140-frontend-of-term</guid>
            <pubDate>Mon, 10 Jul 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<h1>ë Œë”ë§ì˜ ì¢…ë¥˜ì™€ ìš©ì–´ ì •ë¦¬</h1>
<p>í˜„ì—…ì—ì„œ CSRë§Œ ì‚¬ìš©í•´ë´ì„œ ë‹¤ë¥¸ ë Œë”ë§ ë°©ì‹ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ë‹¤ê°€ ìš©ì–´ ì •ë¦¬ê°€ ì¢€ í•„ìš”í•œ ê²ƒ ê°™ì•„ì„œ ì •ë¦¬í•´ë´¤ë‹¤.</p>
<h2>CSR : client side rendering</h2>
<ul>
<li>ë Œë”ë§ì˜ ì£¼ì²´ : Browser</li>
<li>ë Œë”ë§ì˜ ê³¼ì •
<ul>
<li>ë¹ˆ HTML íŒŒì¼ì„ ë°›ì•„ì˜¨ë‹¤</li>
<li>JS íŒŒì¼ì„ ë°›ì•„ì˜¨ë‹¤</li>
<li>JS íŒŒì¼ì„ ì‹¤í–‰í•œë‹¤</li>
<li>ë°ì´í„°ë¥¼ ë°›ì•„ì˜¨ë‹¤</li>
<li>DOM Treeë¥¼ ë§Œë“ ë‹¤</li>
<li>HTMLì„ ë Œë”ë§í•œë‹¤</li>
</ul>
</li>
</ul>
<h3>ì¥ì </h3>
<ul>
<li>í•œë²ˆë§Œ ë¡œë”©(HTML, JS)ì´ ë˜ë©´ ì´í›„ì—ëŠ” ë¹ ë¥´ê²Œ ë Œë”ë§ì´ ê°€ëŠ¥í•˜ë‹¤</li>
<li>ì„œë²„ì˜ ë¶€í•˜ê°€ ì ë‹¤</li>
<li>ë³€ê²½ë˜ëŠ” ì¼ë¶€ë¶„ë§Œ ë Œë”ë§ì´ ê°€ëŠ¥í•˜ë‹¤</li>
</ul>
<h3>ë‹¨ì </h3>
<ul>
<li>
<p>TTV, FCP ì‹œê°„ì´ ê¸¸ë‹¤.</p>
<blockquote>
<p>TTV : time to view, ìœ ì €ê°€ í™”ë©´ì„ ë³¼ë•Œê¹Œì§€ì˜ ì‹œê°„
FCP : first contentful paint, ìœ ì €ê°€ í™”ë©´ì— ì²˜ìŒìœ¼ë¡œ ë¬´ì–¸ê°€ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ì‹œê°„</p>
</blockquote>
</li>
<li>
<p>SEO ìµœì í™”ê°€ ì–´ë µë‹¤.</p>
</li>
</ul>
<h2>SSG : static site generation</h2>
<ul>
<li>ë Œë”ë§ì˜ ê³¼ì • : ë¹Œë“œí•  ë•Œ HTML íŒŒì¼ì„ ë Œë”ë§í•˜ì—¬ ì •ì  ì‚¬ì´íŠ¸ë¥¼ ìƒì„±í•œë‹¤.</li>
</ul>
<h3>ì¥ì </h3>
<ul>
<li>í˜ì´ì§€ ë¡œë”©ì´ ë¹ ë¥´ë‹¤.</li>
<li>SEO ìµœì í™”ê°€ ê°€ëŠ¥í•˜ë‹¤.</li>
</ul>
<h3>ë‹¨ì </h3>
<ul>
<li>ë°ì´í„°ê°€ ì •ì ì´ê³  ì‹¤ì‹œê°„ ë°ì´í„°ê°€ ì•„ë‹ˆë‹¤.</li>
</ul>
<h2>ISR : incremental static regeneration</h2>
<ul>
<li>ë Œë”ë§ ê³¼ì • - SSG ì²˜ëŸ¼ ë¹Œë“œ ì‹œ HTML íŒŒì¼ì„ ë Œë”ë§í•˜ì—¬ ì •ì  ì‚¬ì´íŠ¸ë¥¼ ìƒì„±í•œë‹¤. ê·¸ë¦¬ê³  ì •í•´ì§„ ì£¼ê¸°ì— ë”°ë¼ ì •ì  ì‚¬ì´íŠ¸ë¥¼ ì¬ìƒì„±í•œë‹¤.</li>
</ul>
<h3>ì¥ì </h3>
<ul>
<li>SSG + ë°ì´í„°ê°€ ì—…ë°ì´íŠ¸ ëœë‹¤.</li>
<li>SEO ìµœì í™”ê°€ ê°€ëŠ¥í•˜ë‹¤.</li>
</ul>
<h3>ë‹¨ì </h3>
<ul>
<li>í•˜ì§€ë§Œ ì‹¤ì‹œê°„ ë°ì´í„°ê°€ ì•„ë‹ˆë‹¤.</li>
</ul>
<h2>SSR : server side rendering</h2>
<ul>
<li>ë Œë”ë§ì˜ ì£¼ì²´ : Server</li>
<li>ë Œë”ë§ì˜ ê³¼ì •
<ul>
<li>ìœ ì €ì˜ ìš”ì²­ì„ ë°›ëŠ”ë‹¤.</li>
<li>Serverê°€ ìš”ì²­ì„ ë°›ì•„ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì˜¨ë‹¤.</li>
<li>Serverê°€ HTMLì„ ë Œë”ë§í•œë‹¤.</li>
<li>Serverê°€ ë Œë”ë§ëœ HTMLì„ ìœ ì €ì—ê²Œ ì „ë‹¬í•œë‹¤.</li>
</ul>
</li>
</ul>
<h3>ì¥ì </h3>
<ul>
<li>TTV, FCP ì‹œê°„ì´ ì§§ë‹¤.</li>
<li>SEO ìµœì í™”ê°€ ê°€ëŠ¥í•˜ë‹¤.</li>
<li>ì‹¤ì‹œê°„ ë°ì´í„°ë¥¼ ì‚¬ìš©í•œë‹¤.</li>
</ul>
<h3>ë‹¨ì </h3>
<ul>
<li>SSG, ISRê³¼ ë¹„êµí–ˆì„ ë•Œ ë¹„êµì  ëŠë¦´ ìˆ˜ ìˆë‹¤</li>
<li>ì„œë²„ì˜ ë¶€í•˜(Overhead)ê°€ í¬ë‹¤.</li>
</ul>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>rendering</category>
            <category>csr</category>
            <category>isr</category>
            <category>ssg</category>
            <category>ssr</category>
        </item>
        <item>
            <title><![CDATA['[ì•Œê³ ë¦¬ì¦˜]ìµœëŒ€ê³µì•½ìˆ˜ì™€ ìµœì†Œê³µë°°ìˆ˜']]></title>
            <link>https://nostrss.me/2023-06-23-139-algorithm</link>
            <guid>2023-06-23-139-algorithm</guid>
            <pubDate>Fri, 23 Jun 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>ìµœê·¼ ì•Œê³ ë¦¬ì¦˜ ë¬¸ì œë¥¼ í’€ë‹¤ê°€ ìµœëŒ€ê³µì•½ìˆ˜ì™€ ìµœì†Œê³µë°°ìˆ˜ë¥¼ í™œìš©í•˜ëŠ” ë¬¸ì œê°€ ìˆì—ˆë‹¤.</p>
<p>ë¬¸ì œë¥¼ í’€ê¸´ í’€ì—ˆì§€ë§Œ, ìµœëŒ€ê³µì•½ìˆ˜ì™€ ìµœì†Œê³µë°°ìˆ˜ì˜ ê²½ìš°ì—ëŠ” ê³µì‹ì´ ì´ë¯¸ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì—</p>
<p>ì˜ ì•Œì•„ë‘ë©´ ì‹œê°„ì„ ì ˆì•½í•˜ê¸° ì¢‹ì„ ê²ƒ ê°™ì•„ì„œ ì •ë¦¬í•´ ë³´ì•˜ë‹¤.</p>
<h2>ìµœëŒ€ ê³µì•½ìˆ˜(greatest common divisor)</h2>
<p>ìœ í´ë¦¬ë“œ í˜¸ì œë²•ì„ ì´ìš©í•˜ì—¬ ìµœëŒ€ ê³µì•½ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ë°©ë²•ì„ ì½”ë“œë¡œ êµ¬í˜„í•´ ë³´ì•˜ë‹¤.</p>
<pre><code class="language-javascript">const getGcd = (a, b) => {
  while (b > 0) {
    let temp = b;
    b = a % b;
    a = temp;
  }
  return a;
};
</code></pre>
<p>ì¬ê·€ì ìœ¼ë¡œë„ êµ¬í˜„ ê°€ëŠ¥í•  ê²ƒ ê°™ì•„ ì‘ì„±ì„ í•´ë´¤ë‹¤.</p>
<pre><code class="language-javascript">const getGcd = (a, b) => {
  if (b === 0) {
    return a;
  }
  return getGcd(b, a % b);
};
</code></pre>
<h2>ìµœì†Œ ê³µë°°ìˆ˜(least common multiple)</h2>
<p>ìµœì†Œ ê³µë°°ìˆ˜ëŠ” ìœ„ì˜ ìµœëŒ€ ê³µì•½ìˆ˜ë¥¼ ì´ìš©í•˜ë©´ ì‰½ê²Œ êµ¬í•  ìˆ˜ ìˆë‹¤.</p>
<pre><code class="language-javascript">const lcm = (a, b) => {
  return (a * b) / gcd(a, b);
};
</code></pre>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>algorithm</category>
            <category>javascript</category>
            <category>gcd</category>
            <category>lcm</category>
        </item>
        <item>
            <title><![CDATA['[ì±…ì½ê¸°]refactoring - ì±•í„° 1']]></title>
            <link>https://nostrss.me/2023-05-07-138-refactoring-1</link>
            <guid>2023-05-07-138-refactoring-1</guid>
            <pubDate>Sun, 07 May 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<h2>ìƒ˜í”Œ ì½”ë“œ</h2>
<ul>
<li>
<p><a href="https://github.com/nostrss/book-refactoring/tree/ef7e94134633027ad7a61d140184751e64422a16/chapter-01">ë¦¬íŒ©í† ë§ ì „ ì½”ë“œ</a></p>
</li>
<li>
<p><a href="https://github.com/nostrss/book-refactoring/tree/main/chapter-01">ë¦¬íŒ©í† ë§ í›„ ì½”ë“œ</a></p>
</li>
</ul>
<h2>ì±•í„° 1</h2>
<p>ì €ìëŠ” ìê¸°ê°€ ëª…ëª…í•œ ë¦¬íŒ©í„°ë§ì˜ ê·œì¹™ê³¼ ê¸°ë²•(?)ì„ ì˜ê±°í•˜ë©° ìƒ˜í”Œ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§ì„ í•˜ëŠ” ë²•ì„ ë‹¨ê³„ë³„ë¡œ ë³´ì—¬ì¤€ë‹¤.</p>
<p>ì˜ˆì‹œë¥¼ í†µí•´ì„œ ë¦¬íŒ©í„°ë§ì´ ë¬´ì—‡ì¸ì§€ ê°ì„ ì¡ëŠ” ì±•í„°ì´ë‹¤. í•˜ì§€ë§Œ..</p>
<blockquote>
<p>ì•„ë‹ˆ ì±•í„°1 ë¶€í„° ì™œ ì´ë ‡ê²Œ ë³µì¡í•˜ì§€?</p>
</blockquote>
<p>ë¼ëŠ” ìƒê°ì´ ë“¤ê²Œ í•œë‹¤.</p>
<p>ê·¸ë¦¬ê³  ëˆˆìœ¼ë¡œë§Œ ì½”ë“œë¥¼ ë³´ë‹ˆ ê´„í˜¸ê°€ ëˆˆì— ì˜ ë“¤ì–´ì˜¤ì§€ ì•Šì•„ì„œ, ë‚˜ëŠ” ì €ìì˜ ì½”ë“œë¥¼ ì§ì ‘ ì‘ì„±í•˜ë©´ì„œ ì±…ì„ ì •ë…í–ˆë‹¤.</p>
<p>ì±•í„°1ë§Œ ë³´ëŠ”ë° ë°˜ë‚˜ì ˆì€ ê±¸ë¦° ê²ƒ ê°™ë‹¤...</p>
<h2>ë¦¬íŒ©í„°ë§ ê¸°ë²•</h2>
<p>ì €ìëŠ” ì•ìœ¼ë¡œ ë’·ì¥ì—ì„œ ë” ìì„¸íˆ ë¦¬íŒ©í„°ë§ì˜ ê¸°ë²•ì— ëŒ€í•´ì„œ ë‹¤ë£° ì˜ˆì •ì´ë¼ê³  í–ˆì§€ë§Œ, ëª‡ê°€ì§€ ì¸ìƒì ì¸ ë‚´ìš©ì´ ìˆì—ˆë‹¤.</p>
<h3>ë³€ìˆ˜ ì¸ë¼ì¸í•˜ê¸°</h3>
<p><strong>ë¦¬íŒ©í„°ë§ ì „</strong></p>
<pre><code class="language-javascript">for (let perf of invoice.performances) {
  const play = playFor(perf);
  let thisAmout = amountFor(perf, play);
}
</code></pre>
<p><strong>ë¦¬íŒ©í„°ë§ í›„</strong></p>
<pre><code class="language-javascript">for (let perf of invoice.performances) {
  // const play = playFor(perf);
  let thisAmout = amountFor(perf, playFor(perf));
}
</code></pre>
<p>ì €ìëŠ” ìœ„ì˜ ë°©ì‹ ëŒ€ì‹  ì•„ë˜ì˜ ë°©ì‹ìœ¼ë¡œ ë¦¬íŒ©í„°ë§ì„ ì§„í–‰í•˜ë©° ì´ë¥¼ <code>ë³€ìˆ˜ ì¸ë¼ì¸í•˜ê¸°</code>ë¼ê³  ë¶€ë¥¸ë‹¤.</p>
<p>ë³€ìˆ˜ <code>play</code>ê°€ í•˜ë‚˜ ì œê±° ë˜ê¸°ëŠ” ì¥ì ì´ ìˆê¸´ í•œë°, ê°œì¸ì ìœ¼ë¡œëŠ” ê·¸ë™ì•ˆ ìœ„ì˜ ë°©ì‹ì´ ë³´ê¸° ì¢‹ì•„ì„œ ë§ì´ ì‚¬ìš©í–ˆë˜ ë°©ì‹ì´ì—ˆë‹¤.</p>
<p>ì™œ ì €ìê°€ ì´ë ‡ê²Œ ìˆ˜ì •ì„ í•˜ëŠ”ì§€ ê¶ê¸ˆí•´ì§€ëŠ” ë¶€ë¶„ì´ë‹¤.</p>
<h3>ì¡°ê±´ë¶€ ë¡œì§ì„ ë‹¤í˜•ì„±ìœ¼ë¡œ ë°”ê¾¸ê¸°</h3>
<p><strong>ë¦¬íŒ©í„°ë§ ì „</strong></p>
<pre><code class="language-javascript">function amountFor(aPerformance) {
  let result = 0;
  switch (aPerformance.play.type) {
    case 'tragedy': // ë¹„ê·¹
      result = 40000;
      if (aPerformance.audience > 30) {
        result += 1000 * (aPerformance.audience - 30);
      }
      break;
    case 'comedy': // í¬ê·¹
      result = 30000;
      if (aPerformance.audience > 20) {
        result += 10000 + 500 * (aPerformance.audience - 20);
      }
      result += 300 * aPerformance.audience;
      break;
    default:
      throw new Error(`ì•Œ ìˆ˜ ì—†ëŠ” ì¥ë¥´: ${aPerformance.play.type}`);
  }
  return result;
}
</code></pre>
<p><strong>ë¦¬íŒ©í„°ë§ í›„</strong></p>
<pre><code class="language-javascript">class PerformanceCalculator {
  constructor(aPerformance, aPlay) {
    this.performance = aPerformance;
    this.play = aPlay;
  }

  get amount() {
    throw new Error('ì„œë¸Œí´ë˜ìŠ¤ì—ì„œ ì²˜ë¦¬í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.');
  }

  get volumeCredits() {
    return Math.max(this.performance.audience - 30, 0);
  }
}

class TragedyCalculator extends PerformanceCalculator {
  get amount() {
    let result = 40000;
    if (this.performance.audience > 30) {
      result += 1000 * (this.performance.audience - 30);
    }
    return result;
  }
}
class ComedyCalculator extends PerformanceCalculator {
  get amount() {
    let result = 30000;
    if (this.performance.audience > 20) {
      result += 10000 + 500 * (this.performance.audience - 20);
    }
    result += 300 * this.performance.audience;
    return result;
  }
  get volumeCredits() {
    return super.volumeCredits + Math.floor(this.performance.audience / 5);
  }
}
</code></pre>
<p>ì €ìëŠ” switchë¥¼ ì´ìš©í•œ ì¡°ê±´ë¶€ ë¡œì§ì„ ë‹¤í˜•ì„±(polymorphism)ì„ í™œìš©í•˜ì—¬ ìˆ˜ì •í•˜ì˜€ë‹¤.</p>
<p>í˜„ì—…ì—ì„œë„ ì¡°ê±´ì— ë”°ë¥¸ ë¶„ê¸°ë§ˆë‹¤ ë³„ë„ì˜ ë¡œì§ì„ ì ìš©í•´ì•¼ í•˜ëŠ”ê²½ìš°ê°€ ì•„ì£¼ ë§ë‹¤.</p>
<p>ê·¸ëŸ´ë•Œë©´ if else ì˜ ì§€ì˜¥ì— ë¹ ì ¸ ì—„ì²­ë‚˜ê²Œ ê¸´ ì½”ë“œë¥¼ ë´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ì•˜ë‹¤.</p>
<p>class ë¬¸ë²•ì´ ìµìˆ™í•˜ì§€ ì•Šì€ ë‚˜ì§€ë§Œ í˜„ì‹¤ì ìœ¼ë¡œ ì•„ì£¼ ì™€ ë‹¿ëŠ” ë¦¬íŒ©í„°ë§ ë°©ë²•ì´ì—ˆë‹¤.</p>
<h2>í›„ê¸°</h2>
<p>ìƒê°ë³´ë‹¤ ë‹¨ê³„ë³„ë¡œ ì„¤ëª…ì´ ì•Œì°¨ê²Œ ë˜ì–´ ìˆë‹¤. ë¬´ì–¸ê°€ ì±…ì´ ë‹¨ë‹¨í•˜ê³  ì•Œì°¬ ëŠë‚Œì´ë‹¤.</p>
<p>ì˜¤ë˜ ê±¸ë¦´ ê²ƒ ê°™ê¸´í•œë° ì™„ë… í•´ë³´ì ã…ã…</p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>book</category>
            <category>refactoring</category>
            <category>javascript</category>
        </item>
        <item>
            <title><![CDATA['[ì±…ì½ê¸°]refactoring']]></title>
            <link>https://nostrss.me/2023-05-05-137-refactoring-0</link>
            <guid>2023-05-05-137-refactoring-0</guid>
            <pubDate>Fri, 05 May 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<h2>ì¢‹ì€ ì½”ë“œë€ ì–´ë–¤ê±¸ê¹Œ?</h2>
<p>íšŒì‚¬ë¥¼ ë‹¤ë‹ˆê¸° ì „ì— ì¢‹ì€ ì½”ë“œì— ëŒ€í•œ ë‚˜ì˜ ìƒê°ì€ ì•„ë˜ì™€ ê°™ì•˜ë‹¤.</p>
<blockquote>
<p>ì§§ê³  ê°„ê²°í•œ ì½”ë“œ</p>
</blockquote>
<blockquote>
<p>ìµœì í™”ê°€ ì˜ ë˜ì–´ ìˆëŠ” ì½”ë“œ</p>
</blockquote>
<p>í•˜ì§€ë§Œ íšŒì‚¬ë¥¼ ë‹¤ë‹ˆë©´ì„œ ì¶”ê°€ëœ ë‚´ìš©ì´ ìˆë‹¤.</p>
<blockquote>
<p>ì•Œì•„ë³´ê¸° ì‰¬ìš´ ì½”ë“œ</p>
</blockquote>
<blockquote>
<p>ìœ ì§€ ë³´ìˆ˜ê°€ ì‰¬ìš´ ì½”ë“œ</p>
</blockquote>
<blockquote>
<p>ê¸°ëŠ¥ ì¶”ê°€ê°€ ì‰¬ìš´ ì½”ë“œ</p>
</blockquote>
<p>ê¸°ì¡´ì˜ ìƒê°ê³¼ëŠ” ì¡°ê¸ˆ ë‹¤ë¥¸ ë°©í–¥ì„±ì´ ìƒê²¨ ë‚œ ê²ƒì´ë‹¤.</p>
<h3>ì™œ?</h3>
<p>í˜¼ì ê°œë°œì„ í•œë‹¤ë©´ ì´ëŸ° ìƒê°ì´ ë“¤ì§€ ì•Šì•˜ì„ ê²ƒ ê°™ë‹¤.</p>
<p>í•˜ì§€ë§Œ íšŒì‚¬ì—ì„œ ë™ë£Œë“¤ê³¼ í•¨ê»˜ ì¼ì„ í•˜ë‹¤ë³´ë‹ˆ ëˆ„êµ°ê°€ê°€ ì‘ì„±í•œ ì½”ë“œë¥¼ ë´ì•¼ í•˜ëŠ” ì¼ì´ ìì£¼ ìƒê²¼ë‹¤. ê·¸ë¦¬ê³  ë°˜ëŒ€ë¡œ ë‚´ê°€ ì‘ì„±í•œ ì½”ë“œë¥¼ ë‹¤ë¥¸ ì‚¬ëŒì´ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ì¼ë„ ìˆì—ˆë‹¤.</p>
<p>ì´ë•Œ ì„œë¡œ ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ì˜ ì½”ë“œë¥¼ ë³´ë©´ì„œ ë¶„ì„í•˜ëŠ”ë° ë§ì€ ì‹œê°„ì„ ë“¤ì˜€ë˜ ê¸°ì–µì´ ìˆë‹¤.</p>
<p>ë˜í•œ ë™ë£Œê°€ ì‘ì„±í•œ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ë‹¤ ë³´ë©´ ì˜ˆìƒì¹˜ ëª»í•œ ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•˜ëŠ” ì¼ë„ ë§ì•˜ë‹¤. ì—¬ê¸°ì— ì •ë§ ê°„ë‹¨í•œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ”ë°, ì˜ˆìƒë³´ë‹¤ ìˆ˜ì •ì˜ ë²”ìœ„ê°€ ë„“ì–´ì ¸ì„œ ë‹¹í™©ìŠ¤ëŸ¬ìš´ ê²½ìš°ë„ ìˆì—ˆë‹¤.</p>
<p>íšŒì‚¬ì— ì‹œë‹ˆì–´ ê°œë°œìê°€ ì—†ë‹¤ ë³´ë‹ˆ ì´ì— ëŒ€í•œ ê°ˆì¦ì´ ìƒê²¨ë‚  ìˆ˜ ë°–ì— ì—†ì—ˆëŠ”ë° ë§ˆë•…í•œ í•´ê²°ë°©ë²•ì„ ì°¾ê¸° ì–´ë ¤ì› ë‹¤. chat-gpt, êµ¬ê¸€ê²€ìƒ‰, ìœ íŠœë¸Œë¥¼ ì•„ë¬´ë¦¬ ë“¤ì—¬ë´ë„ ê¹Šì´ê°€ ëŠê»´ì§€ì§€ ì•Šì•˜ê³ , ì •ë³´ë¥¼ íƒìƒ‰í•˜ëŠ” ì‹œê°„ë§Œ ê¸¸ì–´ì§€ëŠ” ëŠë‚Œì´ ë“¤ì—ˆë‹¤.</p>
<h2>ì±… í•œë²ˆ ì½ì–´ ë³¼ê¹Œ?</h2>
<p>ê·¸ëŸ¬ë‹¤ íšŒì‚¬ ì—…ë¬´ ë•Œë¬¸ì— ëŒ€í‘œë‹˜ì´ ì–‡ì€ ì±… í•œ ê¶Œì„ ì½ì–´ ì˜¤ë¼ê³  í–ˆë‹¤.</p>
<p><a href="http://www.yes24.com/Product/UsedShopHub/Hub/92456411">í”„ë¡œê·¸ë ˆì‹œë¸Œ ì›¹ ì•±</a></p>
<p>ì •ë§ ì˜¤ëœ ë§Œì— ì½ëŠ” ì±…ì„ ì½ì–´ ë´¤ëŠ”ë°, ê·¸ë˜ì„œ ì¸ì§€ ëŠë‚Œì´ ë‚¨ë‹¬ëë‹¤. ìœ íŠœë¸Œë‚˜, ë¸”ë¡œê·¸ì™€ ë‹¬ë¦¬ ì‘ê°€ì˜ ë‚´ê³µì´ ëŠê»´ì¡Œë‹¤ê³  í•´ì•¼í• ê¹Œ?</p>
<p>ì±…ì´ ì•ì•¼ì„œ, ì•„ë‹ˆë©´ ì‘ê°€ì˜ í•„ë ¥ì´ ì¢‹ì•„ì„œ ê·¸ë¬ì„ì§€ ëª¨ë¥´ì§€ë§Œ ê·¸ ëŠë‚Œì´ ë„ˆë¬´ ì¢‹ì•˜ë‹¤.</p>
<p>ê·¸ë˜ì„œ ì´ë²ˆì—ëŠ” ì¡°ê¸ˆ ë” ë‘ê»ê³  ì–´ë ¤ìš´ ì±…ì„ ì½ì–´ ë³´ë ¤ê³  í•œë‹¤.</p>
<h3>ë¦¬íŒ©í„°ë§</h3>
<p><a href="http://www.yes24.com/Product/UsedShopHub/Hub/89649360">ë¦¬íŒ©í„°ë§ 2íŒ</a></p>
<p>ì´ ì±…ì„ ì„ íƒí•œ ì´ìœ </p>
<ul>
<li>ìœ íŠœë¸Œì—ì„œ ì¶”ì²œ ì˜ìƒì´ ë§ì•˜ë‹¤..</li>
<li>1íŒì˜ ê²½ìš° javaë¡œ ì˜ˆì œ ì½”ë“œê°€ ì‘ì„±ë˜ì–´ ìˆì—ˆëŠ”ë°, 2íŒì—ì„œëŠ” javascriptë¡œ ë˜ì–´ ìˆë‹¤.</li>
<li>1íŒì— ëŒ€í•œ ì¢‹ì€ í‰ê°€ ê¸€ì´ ë§ì•˜ë‹¤.</li>
</ul>
<p>ì, ì±…ì€ ì¤€ë¹„í–ˆê³  í•œë²ˆ ì½ì–´ë³´ì.</p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>book</category>
            <category>refactoring</category>
            <category>javascript</category>
        </item>
        <item>
            <title><![CDATA['typedocìœ¼ë¡œ í”„ë¡ íŠ¸ì—”ë“œ ë¬¸ì„œ ë§Œë“¤ê¸°']]></title>
            <link>https://nostrss.me/2023-03-13-136-typedoc-gh-pages</link>
            <guid>2023-03-13-136-typedoc-gh-pages</guid>
            <pubDate>Mon, 13 Mar 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>íšŒì‚¬ì—ì„œë“ , ê°œì¸ì ìœ¼ë¡œ ì§‘ì—ì„œ ì½”ë“œë¥¼ ë³¼ ë•Œë§ˆë‹¤</p>
<blockquote>
<p>ì´ ë³€ìˆ˜ëŠ” ë­ì§€?</p>
</blockquote>
<blockquote>
<p>ì´ í•¨ìˆ˜ëŠ” ë¬´ìŠ¨ ì‘ë™ì„ í•˜ëŠ”ê±°ì§€?</p>
</blockquote>
<p>ë¼ëŠ” ìƒê°ì„ í•˜ë©´ì„œ ì½”ë“œë¥¼ ì‚´í´ë³´ê³¤ í•œë‹¤.</p>
<p>ê·¸ë˜ì„œ ë‹¤ìŒì— ë³¼ë•ŒëŠ” ì¢€ ë” ì•Œì•„ ë³´ê¸° ì‰½ê²Œ í•˜ë ¤ê³  ì£¼ì„ì„ ì—´ì‹¬íˆ ë‹¬ê¸°ë„ í•œë‹¤.</p>
<p>ê·¸ëŸ¬ë‹¤ API ëª…ì„¸ì²˜ëŸ¼ í”„ë¡ íŠ¸ ì†ŒìŠ¤ì½”ë“œë“¤ë„ ë¬¸ì„œí™” í•´ì£¼ëŠ” ë°©ë²•ì´ ì—†ì„ê¹Œ í•´ì„œ ì•Œì•„ë³´ë‹¤ê°€ typedocì„ í†µí•´ì„œ ë¬¸ì„œí™” í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì°¾ì•„ì„œ ì ìš©í•´ ë´¤ë‹¤.</p>
<h2>typedocì´ë€?</h2>
<p><a href="https://typedoc.org/">typedoc ê³µì‹ í™ˆí˜ì´ì§€ ë°”ë¡œê°€ê¸°</a></p>
<p><a href="https://typedoc.org/example/">typedoc ì˜ˆì œ</a></p>
<p>typedocì€ ì†ŒìŠ¤ì½”ë“œì— í¬í•¨ëœ ì£¼ì„ìœ¼ë¡œ html ë¬¸ì„œë¥¼ ë§Œë“¤ì–´ì£¼ëŠ” íŒ¨í‚¤ì§€ì´ë‹¤.</p>
<p>ë³„ë„ë¡œ ë¬¸ì„œë¥¼ ì‘ì„±í•˜ëŠ” ì‹œê°„ì„ ë“¤ì¼ í•„ìš”ì—†ì´ ì†ŒìŠ¤ì½”ë“œì— ì‘ì„±í•˜ë©´ ë°”ë¡œ ë¹Œë“œí•˜ì—¬ ë¬¸ì„œí™” í•  ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆë‹¤.</p>
<h2>typedoc ì„¤ì¹˜í•˜ê¸°</h2>
<pre><code class="language-bash">// Install

npm install --save-dev typedoc
</code></pre>
<h2>typedoc ì„¤ì •í•˜ê¸°</h2>
<p>tsconfig.jsonì— ì•„ë˜ì™€ ê°™ì´ entryPointsë¥¼ ì§€ì •í•´ì¤˜ì•¼ í•œë‹¤.</p>
<p>entryPointsëŠ” TypeDocì´ ë¬¸ì„œí™”í•  TypeScript íŒŒì¼ì˜ ì§„ì…ì ì„ ì§€ì •í•˜ëŠ” ë° ì‚¬ìš©ë˜ê³ , ì§„ì…ì ì´ ì—¬ëŸ¬ ê³³ì¼ ê²½ìš°ì—ëŠ” ë°°ì—´ë¡œ ì—¬ëŸ¬ê°œ ì§€ì •í•´ì¤„ ìˆ˜ ìˆë‹¤.</p>
<p>outì€ ë¹Œë“œíŒŒì¼ì´ ìƒì„±ë  ê²½ë¡œì´ë‹¤.</p>
<pre><code class="language-json"> "typedocOptions": {
    "entryPoints": ["src/pages/index.tsx"],
    "out": "docs"
  }
</code></pre>
<h2>typedoc ë¬¸ì„œ ìƒì„±í•˜ê¸°</h2>
<p>ë¬¸ì„œë¥¼ ìƒì„±í•˜ëŠ” ëª…ë ¹ì–´ëŠ” ì•„ë˜ì™€ ê°™ë‹¤.</p>
<pre><code class="language-bash">npx typedoc src/index.ts
</code></pre>
<p>í•˜ì§€ë§Œ, ìœ„ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ í•˜ìœ„ì— ìˆëŠ” ì†ŒìŠ¤ì½”ë“œ íŒŒì¼ì˜ ì£¼ì„ë“¤ì€ ë¬¸ì„œë¡œ ë§Œë“¤ì–´ì§€ì§€ ì•ŠëŠ” ë‹¨ì ì´ ìˆì—ˆë‹¤.</p>
<p>ê·¸ë˜ì„œ ì°¾ì€ ë°©ë²•ì´ ì•„ë˜ì˜ ëª…ë ¹ì–´ì´ë‹¤. ì´ë ‡ê²Œ ì…ë ¥í•˜ë©´, entrypointsë¶€í„° ì‹œì‘í•˜ì—¬ í•˜ìœ„ í´ë”ì˜ íŒŒì¼ë“¤ê¹Œì§€ ì „ë¶€ ë¬¸ì„œë¡œ ë§Œë“¤ì–´ ì¤€ë‹¤.</p>
<pre><code class="language-bash">npx typedoc --entryPointStrategy expand ./src
</code></pre>
<h2>ê²°ê³¼ë¬¼</h2>
<p>ë‚˜ ê°™ì€ ê²½ìš° ë¹Œë“œëœ ë¬¸ì„œë¥¼ ì–¸ì œë“ ì§€ ì›¹ì—ì„œ ë³¼ ìˆ˜ ìˆë„ë¡ gh-pagesë¥¼ ì´ìš©í•´ git-hub pageì— ë°°í¬ë¥¼ í•´ë‘ì—ˆë‹¤.</p>
<p><a href="https://nostrss.github.io/nextjs-blog/">typedoc ìœ¼ë¡œ ìƒì„±í•œ ë¬¸ì„œ ë³´ê¸°</a></p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>react</category>
            <category>nextjs</category>
            <category>typedoc</category>
        </item>
        <item>
            <title><![CDATA['ë‚˜ë§Œì˜ Boilerplateë¥¼ github templateë¡œ ë§Œë“¤ê¸° ']]></title>
            <link>https://nostrss.me/2023-03-12-135-github-template</link>
            <guid>2023-03-12-135-github-template</guid>
            <pubDate>Sun, 12 Mar 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p>ë§¤ë²ˆ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ë•Œ ë§ˆë‹¤ ë˜‘ê°™ì´ ë°˜ë³µí•´ì„œ ì‘ì—…í•˜ëŠ” ì¼ì´ ìˆë‹¤.</p>
<pre><code class="language-bash">// ì„¤ì¹˜í•˜ê¸°..
npx create-react-app
npx create-next-app
npx eslint init
(ë“±ë“±ë“±)

// ì„¤ì •í•˜ê¸°
package.json
tsconfig.json
.eslintrc.js
.gitignore
next.config.js
(ë“±ë“±ë“±)
</code></pre>
<p>ì´ë ‡ê²Œ setting í•˜ëŠ” ê²ƒë„ ì‚¬ì‹¤ í•œ ë²ˆì— ì˜ ë˜ì§€ ì•Šìœ¼ë©´ ìƒë‹¹íˆ ì‹œê°„ì„ ì†Œëª¨í•˜ëŠ” ì‘ì—…ì´ ë˜ëŠ” ê²½ìš°ê°€ ìˆë‹¤. (ë°”ë¡œ ì˜¤ëŠ˜ ë‚´ê°€ ê·¸ë¬ë‹¤..)</p>
<p>ê·¸ë˜ì„œ ë‚˜ë§Œì˜ boilerplateë¥¼ ë§Œë“¤ì–´ì„œ git-hubì— í…œí”Œë¦¿ìœ¼ë¡œ ë§Œë“¤ì–´ë‘ê³  ì‚¬ìš©í•´ë³´ë ¤ê³  í•œë‹¤.</p>
<h2>Boilerplate ì¤€ë¹„í•˜ê¸°</h2>
<blockquote>
<p>boilerplateëŠ” ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì—ì„œ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì½”ë“œì™€ íŒŒì¼ë“¤ì˜ ì§‘í•©ì…ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, React í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ë•Œë§ˆë‹¤ ê°™ì€ íŒŒì¼ë“¤ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤ë©´, ì´ íŒŒì¼ë“¤ì„ boilerplateì— ì¶”ê°€í•˜ì—¬ ë‹¤ìŒì— í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ë•Œ boilerplateë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. ì´ë ‡ê²Œ boilerplateë¥¼ ì‚¬ìš©í•˜ë©´ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ë•Œ ì‹œê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
</blockquote>
<p>ë‚´ê°€ ë§Œë“¤ Boilerplate ë‚´ìš©ì€ ì•„ë˜ì™€ ê°™ë‹¤</p>
<ul>
<li>Next.js</li>
<li>typescript</li>
<li>eslint : airbnb</li>
<li>prettier</li>
</ul>
<p>ìµœì†Œí•œì˜ ì„¸íŒ… ë‚´ìš©ì´ë‹¤.</p>
<p>css, ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë“±ë“±ì€ ìƒí™©ì„ ë³´ë©´ì„œ ì¶”ê°€í•  ì˜ˆì •ì´ë‹¤.</p>
<p>ì¤€ë¹„ê°€ ëœ ì½”ë“œëŠ” githubì— í‘¸ì‰¬í•´ ë‘ì.</p>
<p><a href="https://github.com/nostrss/next-lint-airbnb">Boilerplate ì†ŒìŠ¤ì½”ë“œ ë³´ëŸ¬ê°€ê¸°</a></p>
<h2>Github Template Repository ì„¤ì •í•˜ê¸°</h2>
<ul>
<li>Repository > setting</li>
</ul>
<ul>
<li>Template Repository ì²´í¬ë°•ìŠ¤ On</li>
</ul>
<p>ì´ê²Œ ëì´ë‹¤. ì•ìœ¼ë¡œ ì´ Repositoryë¥¼ Templateë¡œ ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>
<h2>Template ì‚¬ìš©í•˜ê¸°</h2>
<p>ìƒˆë¡œìš´ Repositoryë¥¼ ìƒì„±í•´ë³´ì.</p>
<p>ê·¸ë•Œ select boxë¥¼ í´ë¦­ í•´ë³´ë©´, ë°©ê¸ˆ ì„¤ì •í•œ Template Repositoryê°€ ì˜µì…˜ìœ¼ë¡œ ë‚˜ì˜¤ê²Œ ëœë‹¤.</p>
<p>ì˜µì…˜ì„ ì„ íƒí•˜ê³  Repositoryë¥¼ ë§Œë“¤ê²Œ ë˜ë©´ ë˜‘ê°™ì€ Repositoryê°€ ìƒì„±ì´ ë˜ê³  ë°”ë¡œ ì´ì–´ì„œ ì¶”ê°€ ì„¤ì • ë° ì‘ì—…ì„ ì‹œì‘ í•˜ë©´ ëœë‹¤.</p>
<h2>forkì™€ì˜ ì°¨ì´ì </h2>
<p>Repolistoryë¥¼ forkí•´ì„œ ê·¸ëƒ¥ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ ì°¨ì´ê°€ ì—†ê²Œ ëŠê»´ì§ˆ ìˆ˜ ìˆëŠ”ë°, ëª‡ê°€ì§€ ë‹¤ë¥¸ ì ì´ ìˆë‹¤.</p>
<ul>
<li>ìƒˆ í¬í¬ì—ëŠ” ë¶€ëª¨ ë¦¬í¬ì§€í† ë¦¬ì˜ ì „ì²´ ì»¤ë°‹ ê¸°ë¡ì´ í¬í•¨ë˜ë©° í…œí”Œë¦¿ì—ì„œ ë§Œë“  ë¦¬í¬ì§€í† ë¦¬ëŠ” ë‹¨ì¼ ì»¤ë°‹ìœ¼ë¡œ ì‹œì‘í•©ë‹ˆë‹¤.</li>
<li>í¬í¬ì— ëŒ€í•œ ì»¤ë°‹ì€ ê¸°ì—¬ ê·¸ë˜í”„ì— í‘œì‹œë˜ì§€ ì•Šì§€ë§Œ í…œí”Œë¦¿ì—ì„œ ë§Œë“  ë¦¬í¬ì§€í† ë¦¬ì— ëŒ€í•œ ì»¤ë°‹ì€ ê¸°ì—¬ ê·¸ë˜í”„ì— í‘œì‹œë©ë‹ˆë‹¤.</li>
<li>í¬í¬ëŠ” í…œí”Œë¦¿ì—ì„œ ë¦¬í¬ì§€í† ë¦¬ë¥¼ ë§Œë“¤ë©´ ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ë¹ ë¥´ê²Œ ì‹œì‘í•˜ëŠ” ë™ì‹œì— ê¸°ì¡´ í”„ë¡œì íŠ¸ì— ì½”ë“œë¥¼ ê¸°ì—¬í•˜ëŠ” ì„ì‹œ ë°©ë²•ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
</ul>
<p><a href="https://docs.github.com/ko/repositories/creating-and-managing-repositories/creating-a-repository-from-a-template">ìì„¸í•œ ë‚´ìš©ë³´ëŸ¬ê°€ê¸°</a></p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>github</category>
            <category>template</category>
            <category>boilerplate</category>
        </item>
        <item>
            <title><![CDATA['Next.js SSR, SSGë¥¼ Vercelì— ë°°í¬í•˜ê¸°(3)']]></title>
            <link>https://nostrss.me/2023-03-11-134-nextjs-vercel-3</link>
            <guid>2023-03-11-134-nextjs-vercel-3</guid>
            <pubDate>Sat, 11 Mar 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p><a href="https://github.com/nostrss/next-render">ì „ì²´ ì†ŒìŠ¤ì½”ë“œ</a></p>
<p><a href="https://next-render-hjuyogs9h-nostrss.vercel.app/">DEMO</a></p>
<p>ì´ì œ ì†ŒìŠ¤ì½”ë“œë¥¼ <code>vercel</code>ì— ë°°í¬í•´ ë³¼ ì°¨ë¡€ì´ë‹¤.</p>
<p>ë¨¼ì € ì§€ê¸ˆê¹Œì§€ì˜ ì†ŒìŠ¤ì½”ë“œë¥¼ Git-hubì— <code>Push</code> í•´ë‘ë„ë¡ í•˜ì.</p>
<h2>Vercel íšŒì›ê°€ì…</h2>
<p><a href="https://vercel.com/">Vercel ë°”ë¡œê°€ê¸°</a></p>
<h2>Git-hub ê³„ì • ì—°ê²°, Repository ì—°ê²°í•˜ê¸°</h2>
<p>ë¨¼ì € ìì‹ ì˜ Git-Hub ê³„ì •ì„ ì—°ê²°,ì„ íƒ í•´ì¤€ë‹¤.</p>
<p>ê·¸ëŸ¬ë©´ ì•„ë˜ì™€ ê°™ì´ Git-hubì— ìˆëŠ” ë‚˜ì˜ Repositoryë“¤ì´ ì­‰ ë‚˜ì˜¤ê²Œ ëœë‹¤.</p>
<p>ê·¸ ì¤‘ì— ë°°í¬í•˜ê³ ì í•˜ëŠ” Repositoryë¥¼ ì„ íƒ, import í•´ë³´ì.</p>
<h3>Repositoryê°€ ë³´ì´ì§€ ì•ŠëŠ” ê²½ìš°</h3>
<p>ê¹ƒí—ˆë¸Œì—ì„œ Vercel Application ì„¤ì •ì„ í™•ì¸í•´ë³´ì</p>
<ul>
<li>Github > setting > applications > Configure</li>
</ul>
<p>ë‚˜ ê°™ì€ ê²½ìš°ì—ëŠ” ì—¬ê¸°ì„œ <code>All Repositories</code>ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ í—ˆìš©í•˜ë‹ˆ í•´ê²°ì´ ë˜ì—ˆë‹¤.</p>
<h2>Build &#x26; Deploy</h2>
<p>ìœ„ì™€ ê°™ì´ ì„¤ì •ì„ í•˜ë©´ í™”ë©´ì´ ë°”ë€Œë©´ì„œ ìë™ìœ¼ë¡œ ë°°í¬ê°€ ì§„í–‰ë˜ê¸° ì‹œì‘í•œë‹¤.</p>
<p>ë°°í¬ê°€ ì™„ë£Œë˜ë©´ ì•„ë˜ ì‚¬ì§„ê³¼ ê°™ì´ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.</p>
<p>ë°°í¬ ê²°ê³¼ë¥¼ ë³¼ìˆ˜ ìˆëŠ” url, ì—°ê²°ëœ branch ë“±ì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.</p>
<p>ë‚˜ ê°™ì€ ê²½ìš°ì—ëŠ” í˜„ì¬ main ë¸Œëœì¹˜ë¥¼ ì—°ê²°í•´ ë‘ì—ˆë‹¤.</p>
<h2>í›„ì† ë°°í¬</h2>
<p>Vercelì— ì—°ê²°ë˜ì–´ ìˆëŠ” branchì— ì†ŒìŠ¤ì½”ë“œê°€ í‘¸ì‰¬ë˜ëŠ” ìˆœê°„ vercelì—ì„œ ìë™ìœ¼ë¡œ ë¹Œë“œí•˜ì—¬ ë°°í¬ê°€ ì§„í–‰ëœë‹¤.</p>
<p>ë³„ë„ë¡œ ì‚¬ìš©ìê°€ npm run build ì™€ ê°™ì€ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•  í•„ìš”ê°€ ì—†ë‹¤.</p>
<p>í„°ë¯¸ë„ì—ì„œ ë¹Œë“œ ì˜¤ë¥˜ê°€ ë‚˜ë“¯ vercelì—ì„œë„ ë¹Œë“œ ì˜¤ë¥˜ê°€ ë°œìƒ í•˜ë©´ ë°°í¬ê°€ ì§„í–‰ë˜ì§€ ì•Šìœ¼ë‹ˆ, ì½”ë“œë¥¼ push í•˜ê³  buildì™€ ë°°í¬ê°€ ëê¹Œì§€ ì™„ë£Œ ë˜ì—ˆëŠ”ì§€ í™•ì¸ í•  í•„ìš”ê°€ ìˆë‹¤.</p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>Next</category>
            <category>ssr</category>
            <category>ssg</category>
            <category>vercel</category>
            <category>deploy</category>
        </item>
        <item>
            <title><![CDATA['Next.js SSR, SSGë¥¼ Vercelì— ë°°í¬í•˜ê¸°(2)']]></title>
            <link>https://nostrss.me/2023-03-05-133-nextjs-vercel-2</link>
            <guid>2023-03-05-133-nextjs-vercel-2</guid>
            <pubDate>Sun, 05 Mar 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p><a href="https://github.com/nostrss/next-render">ì „ì²´ ì†ŒìŠ¤ì½”ë“œ</a></p>
<p><a href="https://next-render-hjuyogs9h-nostrss.vercel.app/">DEMO</a></p>
<p>ì‘í’ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ <code>SSR</code>ë¡œ êµ¬í˜„í•´ë´¤ìœ¼ë‹ˆ, ì´ë²ˆì—ëŠ” <code>SSG</code>ë¥¼ êµ¬í˜„í•´ë³´ë ¤ê³  í•œë‹¤.</p>
<p>ë¦¬ìŠ¤íŠ¸ ì¤‘ì— í•˜ë‚˜ë¥¼ í´ë¦­ í–ˆì„ ë•Œ ìƒì„¸ í™”ë©´ìœ¼ë¡œ ë„˜ì–´ê°€ê³ </p>
<p>ìƒì„¸í™”ë©´ì€ <code>SSG</code>ë¡œ ë Œë”ë§ ë˜ë„ë¡ í•  ì˜ˆì •ì´ë‹¤.</p>
<h2>ì‘í’ˆ ìƒì„¸ í˜ì´ì§€ SSG êµ¬í˜„</h2>
<h3>API</h3>
<blockquote>
<p>ì‚¬ìš©í•  API : <a href="https://api.artic.edu/docs/">Art Institute of Chicago API</a></p>
</blockquote>
<h3>SSG êµ¬í˜„ ì½”ë“œ</h3>
<blockquote>
<p><a href="https://github.com/nostrss/next-render/blob/main/src/pages/%5Bid%5D/index.jsx">SSGë¡œ êµ¬í˜„ëœ ì „ì²´ ì†ŒìŠ¤ì½”ë“œ</a></p>
</blockquote>
<h2>êµ¬í˜„ ë‚´ìš©</h2>
<h3>getStaticProps</h3>
<p><a href="https://nextjs.org/docs/basic-features/data-fetching/get-static-props">getStaticProps ë¬¸ì„œ ë³´ëŸ¬ê°€ê¸°</a></p>
<ul>
<li><code>getStaticProps</code>ëŠ” ë¹Œë“œ ì‹œ api í†µì‹  ì‘ë‹µê°’ì„ ë°›ì•„ ë¯¸ë¦¬ html íŒŒì¼ì„ ìƒì„±í•´ë‘”ë‹¤.</li>
<li>ì¦‰, ìš´ì˜ì— ë°°í¬ ë˜ë©´ ìœ ì €ëŠ” ë°±ì—”ë“œ ì„œë²„ì™€ì˜ í†µì‹  ê²°ê³¼ë¬¼ì„ ë³´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì´ë¯¸ ë¹Œë“œë˜ì–´ ìˆëŠ” <code>html</code> ì •ì íŒŒì¼ì„ ë¸Œë¼ìš°ì €ë¡œ ë‹¤ìš´ ë°›ì•„ ë³´ëŠ” ê²ƒì´ë‹¤</li>
<li>ë”°ë¼ì„œ ë¹Œë“œì‹œ api í†µì‹ ì´ ì„±ê³µí•˜ì§€ ì•Šìœ¼ë©´ ë‹¹ì—°íˆ ë¹Œë“œ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.</li>
<li>ê·¸ë¦¬ê³  í•´ë‹¹ í˜ì´ì§€ ì ‘ì† ì‹œ ë¡œë”©ì´ ì—„ì²­ë‚˜ê²Œ ë¹ ë¥´ë‹¤.(ë‹¹ì—°íˆ ì´ë¯¸ ë Œë”ë§ë˜ì–´ ìˆì—ˆìœ¼ë‹ˆê¹..)</li>
<li>ë˜ ë‹¹ì—°í•˜ì§€ë§Œ í˜ì´ì§€ ì†ŒìŠ¤ë¥¼ ë³´ë©´ apiì‘ë‹µ ê°’ë“¤ì´ ì´ë¯¸ ì±„ì›Œì ¸ ìˆë‹¤.</li>
</ul>
<pre><code class="language-javascript">export async function getStaticProps(context) {
  const id = context.params.id;
  const apiUrl = `https://api.artic.edu/api/v1/artworks/${id}`;
  const res = await fetch(apiUrl);
  const data = await res.json();
  return {
    props: {
      detailData: data.data,
    },
  };
}
</code></pre>
<p>ìœ„ì˜ ì½”ë“œëŠ” ë¹Œë“œ ì‹œ api í†µì‹  ì‘ë‹µê°’ì„ í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸ì— propsë¡œ ì „ë‹¬í•˜ëŠ” ì—­í• ì„ í•œë‹¤.</p>
<p><code>SSR</code>ê³¼ ë‹¤ë¥¸ ì ì€ ì´ê²ƒì´ <code>ë¹Œë“œ(build)</code>ì‹œ ì´ë£¨ì–´ì§„ë‹¤ëŠ” ê²ƒì´ë‹¤.</p>
<p><code>npm run build</code> ë˜ëŠ” <code>yarn build</code> ì»¤ë§¨ë“œë¥¼ ì…ë ¥í•˜ëŠ” ìˆœê°„ ì´ë¯¸ í˜ì´ì§€ê°€ ë§Œë“¤ì–´ì§€ëŠ” ê²ƒì´ë‹¤.</p>
<p>í•˜ì§€ë§Œ ë‚´ê°€ ì‘ì„±í•œ ì½”ë“œì—ì„œëŠ” ìœ„ì™€ ê°™ì´ ì‘ì„±í•˜ë©´ ì—ëŸ¬ê°€ ë°œìƒí•˜ì˜€ë‹¤.</p>
<p>ì´ìœ ëŠ” getStaticPropsê°€ <code>dynamic routing</code>í˜ì´ì§€ëŠ” ë Œë”ë§ í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>
<p>ì´ ë•Œ í•„ìš”í•œ ê²ƒì´ <code>getStaticPaths</code>ì´ë‹¤.</p>
<h3>getStaticPaths</h3>
<p><a href="https://nextjs.org/docs/basic-features/data-fetching/get-static-paths">getStaticPaths ë¬¸ì„œ ë³´ëŸ¬ê°€ê¸°</a></p>
<ul>
<li><code>getStaticPaths</code>ëŠ” <code>dynamic routing</code>ìœ¼ë¡œ ë™ì ìœ¼ë¡œ ë³€í•˜ëŠ” path ì •ë³´ë¥¼ <code>getStaticProps</code>ì— ì „ë‹¬í•˜ëŠ” ì—­í• ì„ í•œë‹¤.</li>
<li>ì´ path ì •ë³´ë¡œ <code>getStaticProps</code>ëŠ” ë¹Œë“œ ì‹œ apië¥¼ í˜¸ì¶œí•˜ê³  ì‘ë‹µê°’ì„ ë°›ì•„ ì •ì ì¸ í˜ì´ì§€ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ë‹¤.</li>
</ul>
<pre><code class="language-javascript">export async function getStaticPaths() {
  return {
    paths: [
      { params: { id: '14556' } },
      { params: { id: '11434' } },
      { params: { id: '16487' } },
    ],
    fallback: true,
  };
}
</code></pre>
<p>ìœ„ì˜ ì½”ë“œë¥¼ ë³´ë©´ id 3ê°œë¥¼(14556, 11434, 16487) path ì •ë³´ë¡œ <code>getStaticProps</code>ì— ì „ë‹¬í•˜ê³  ìˆë‹¤.
ê·¸ë ‡ë‹¤ë©´ ë¹Œë“œ ì‹œ <code>getStaticProps</code>ëŠ” 3ê°œì˜ idë¡œ api í†µì‹ ì„ í•˜ê³  ì‘ë‹µê°’ì„ ë°›ì•„ ì •ì ì¸ í˜ì´ì§€ë¥¼ ìƒì„±í•  ê²ƒì´ë‹¤.</p>
<p>ë¹Œë“œë¥¼ í•´ë³´ì.</p>
<p>ì •ì  í˜ì´ì§€ 3ê°œê°€ ë¹Œë“œ ë˜ì—ˆë‹¤ê³  ë¹Œë“œ ê²°ê³¼ì—ì„œ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.</p>
<p>ì‹¤ì œ ë¹Œë“œ í´ë”ì—ì„œ í™•ì¸í•´ë³´ì.</p>
<p>ë¹Œë“œ í´ë”ì— ë‚´ê°€ ì§€ì •í•œ 14556, 11434, 16487 html íŒŒì¼ì´ ìƒì„±ëœ ê²ƒì„ ë³¼ ìˆ˜ ìˆì—ˆë‹¤.</p>
<p>ê·¸ë ‡ë‹¤ë©´ ì—¬ê¸°ì„œ ë˜ ë‹¤ë¥¸ ì˜ë¬¸ì´ ìƒê¸°ê²Œ ëœë‹¤...</p>
<blockquote>
<p>ì‘í’ˆì˜ ê°œìˆ˜ê°€ 100ê°œë¼ë©´, getStaticPathsì— 100ê°œì˜ ì •ë³´ë¥¼ ì…ë ¥í•´ì•¼ í•˜ëŠ”ê±´ê°€?</p>
</blockquote>
<h4>fallback(Generating paths on-demand)</h4>
<p>ë‹¤ì‹œ í•œë²ˆ <code>getStaticPaths</code> ì½”ë“œë¥¼ ì‚´í´ë³´ì.</p>
<pre><code class="language-javascript">    fallback: true, // ì´ê±´ ë¬´ì—‡ì„ í•˜ëŠ” ê±¸ê¹Œ??
</code></pre>
<p><code>Next.js</code>ì—ì„œëŠ” ìš°ë¦¬ì˜ ì´ëŸ° ìš”êµ¬ë¥¼ ì˜ˆìƒí•œë“¯ ì´ë¯¸ ì¤€ë¹„ë¥¼ í•´ë‘ì—ˆëŠ”ë°, ë°”ë¡œ <code>fallback</code>ì„ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤.</p>
<p>ëª¨ë“  í˜ì´ì§€ë¥¼ ì „ë¶€ ë¹Œë“œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ í•„ìš”í•  ë•Œ ë§ˆë‹¤ ì •ì  í˜ì´ì§€ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ë‹¤.</p>
<p>ìœ„ì˜ ì½”ë“œë¥¼ ë‹¤ì‹œ í’€ì–´ì„œ ì„¤ëª…í•˜ë©´</p>
<blockquote>
<p>id 3ê°œëŠ” ë¯¸ë¦¬ í˜ì´ì§€ë¥¼ ì •ì  ìƒì„±í•˜ê³ </p>
</blockquote>
<blockquote>
<p>ë‚˜ë¨¸ì§€ dynamic routing í˜ì´ì§€ëŠ” ìœ ì €ê°€ ì ‘ì†í•˜ë©´ ê·¸ë•Œ ê·¸ë•Œ í˜ì´ì§€ë¥¼ ìƒì„±í•´ì¤˜</p>
</blockquote>
<p>ë¼ëŠ” ì˜ë¯¸ë¡œ ì´í•´í•˜ë©´ ëœë‹¤.</p>
<p>ì—¬ê¸°ì„œ <code>fallback:true</code>ëŠ” í•„ìš”í•  ë•Œë§ˆë‹¤ ì •ì  í˜ì´ì§€ë¥¼ ìƒì„±í•œë‹¤ë¼ëŠ” ì˜µì…˜ì¸ ê²ƒì´ë‹¤.</p>
<p>ì‹¤ì œë¡œ ìƒì„± ë˜ëŠ” ì§€ í™•ì¸ í•´ë³´ì.</p>
<p>ë¹Œë“œ í›„ <code>Production</code> ëª¨ë“œë¡œ ì‹¤í–‰ì„ í•˜ì</p>
<blockquote>
<p>yarn build</p>
</blockquote>
<blockquote>
<p>yarn start</p>
</blockquote>
<p>ê·¸ë¦¬ê³  ëª‡ëª‡ í˜ì´ì§€ë¥¼ ë°©ë¬¸í•´ë´¤ë‹¤.</p>
<p>ë‚´ê°€ ì§€ì •í•œ 3ê°œì˜ idì™¸ 2ê°œì˜ í˜ì´ì§€ê°€ ìƒˆë¡­ê²Œ ìƒê²¨ë‚œ ê²ƒì„ ë³¼ ìˆ˜ ìˆì—ˆë‹¤.</p>
<p>ì‹ ê¸°í•œ ê¸°ëŠ¥ì´ê¸´ í•œë° ëª‡ê°€ì§€ ì˜ë¬¸ì ì´ ë“¤ì—ˆë‹¤.</p>
<blockquote>
<p>ì„œë¹„ìŠ¤ë¥¼ ìš´ì˜í•˜ë‹¤ ë³´ë‹ˆ ì•½ 10,000ê°œì˜ ì •ì  í˜ì´ì§€ë“¤ì´ ìƒê²¼ë‹¤.</p>
</blockquote>
<blockquote>
<p>ìš©ëŸ‰ì ìœ¼ë¡œ ë¬¸ì œëŠ” ì—†ëŠ” ê±´ê°€?</p>
</blockquote>
<blockquote>
<p>ë§Œì•½ ìƒˆë¡­ê²Œ buildë¥¼ í•˜ê²Œ ë˜ëŠ” ê²½ìš° ê¸°ì¡´ì— ìŒ“ì—¬ìˆë˜ ì •ì  í˜ì´ì§€ë“¤ì€ ì „ë¶€ ì‚¬ë¼ì§€ëŠ” ê±´ê°€?</p>
</blockquote>
<p>ì‹¤ë¬´ì—ì„œëŠ” SSGë¥¼ ì–´ë–»ê²Œ ì“°ê³  ìˆì„ê¹Œ..</p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>Next</category>
            <category>ssr</category>
            <category>ssg</category>
            <category>vercel</category>
            <category>deploy</category>
        </item>
        <item>
            <title><![CDATA['Next.js SSR, SSGë¥¼ Vercelì— ë°°í¬í•˜ê¸°(1)']]></title>
            <link>https://nostrss.me/2023-03-05-132-nextjs-vercel</link>
            <guid>2023-03-05-132-nextjs-vercel</guid>
            <pubDate>Sun, 05 Mar 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<p><a href="https://github.com/nostrss/next-render">ì „ì²´ ì†ŒìŠ¤ì½”ë“œ</a></p>
<p><a href="https://next-render-hjuyogs9h-nostrss.vercel.app/">DEMO</a></p>
<p>ìµœê·¼ ê³µë¶€ì˜ ëª©ì ì— ëŒ€í•´ ê°ˆíŒ¡ì§ˆíŒ¡í•˜ë‹¤ê°€ renderingì— ëŒ€í•´ ë¶€ì© ê´€ì‹¬ì´ ìƒê²¼ë‹¤.</p>
<p>ê·¸ë˜ì„œ ê³µë¶€í•  ê²¸ Next.jsì˜ SSR(server siede rendering)ê³¼ SSG ë Œë”ë§ì„ ê°„ë‹¨íˆ êµ¬í˜„í•´ì„œ ë°°í¬ë¥¼ í•´ë´¤ë‹¤.</p>
<h2>í”„ë¡œì íŠ¸ ì¤€ë¹„í•˜ê¸°</h2>
<h3>API</h3>
<p>ë¨¼ì € ë Œë”ë§í•  ë°ì´í„°ë¥¼ fetchí•  apiê°€ í•„ìš”í–ˆë‹¤.</p>
<p>ìµœëŒ€í•œ ê°„ë‹¨íˆ êµ¬í˜„í•˜ê³  ì‹¶ì–´ì„œ auth,corsë¥¼ ì‹ ê²½ ì“¸ í•„ìš” ì—†ëŠ” apië¥¼ í•˜ë‚˜ ì°¾ì•˜ë‹¤.</p>
<blockquote>
<p>ì‚¬ìš©í•  API : <a href="https://api.artic.edu/docs/">Art Institute of Chicago API</a></p>
</blockquote>
<h3>êµ¬í˜„í•  í˜ì´ì§€</h3>
<ul>
<li>ì‘í’ˆ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ : SSR</li>
<li>ì‘í’ˆ ìƒì„¸ í˜ì´ì§€ : SSG</li>
</ul>
<p>ì´ë ‡ê²Œ 2ê°œì˜ í˜ì´ì§€ë§Œ ìˆìœ¼ë©´ ë  ë“¯ í•˜ë‹¤.</p>
<p>í˜ì´ì§€ 1ê°œëŠ” SSR, ë‹¤ë¥¸ ë‚˜ë¨¸ì§€ í˜ì´ì§€ëŠ” SSGë¡œ êµ¬í˜„í•´ë³¼ ìƒê°ì´ë‹¤.</p>
<h2>ì‘í’ˆ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€ SSR êµ¬í˜„</h2>
<blockquote>
<p><a href="https://github.com/%3Enostrss/next-render/blob/main/src/pages/index.js">SSRë¡œ êµ¬í˜„ëœ ì „ì²´ ì†ŒìŠ¤ì½”ë“œ</a></p>
</blockquote>
<h3>SSR êµ¬í˜„ ì „ ì½”ë“œ</h3>
<pre><code class="language-javascript">import Head from 'next/head';
import { useEffect, useState } from 'react';
import { useRouter } from 'next/router';

export default function Home() {
  const router = useRouter();
  const [dataList, setDataList] = useState([]);

  useEffect(() => {
    fetch(`https://api.artic.edu/api/v1/artworks?limit=20`)
      .then((res) => res.json())
      .then((data) => {
        setDataList([...data.data]);
      });
  }, []);

  const onClickItem = (id) => () => {
    router.push(`/${id}`);
  };

  return (
    &#x3C;>
      {dataList === undefined ? (
        &#x3C;div>loading...&#x3C;/div>
      ) : (
        &#x3C;>
          &#x3C;Head>
            &#x3C;title>Next.js Rendering Test&#x3C;/title>
            &#x3C;meta
              name='description'
              content='Next Server Sider Rendering Page'
            />
            &#x3C;meta
              name='viewport'
              content='width=device-width, initial-scale=1'
            />
            &#x3C;link rel='icon' href='/favicon.ico' />
          &#x3C;/Head>
          &#x3C;main>
            &#x3C;h1>This page is implemented with SSR&#x3C;/h1>
            {dataList?.map((item) => (
              &#x3C;fieldset
                key={item.id}
                onClick={onClickItem(item.id)}
                style={{ cursor: 'pointer' }}
              >
                &#x3C;legend>Artwork {item.id}&#x3C;/legend>
                &#x3C;ul>
                  &#x3C;li>title : {item.title}&#x3C;/li>
                &#x3C;/ul>
              &#x3C;/fieldset>
            ))}
          &#x3C;/main>
        &#x3C;/>
      )}
    &#x3C;/>
  );
}
</code></pre>
<p>ìœ„ ì½”ë“œì˜ ê³¼ì •ì„ ê°„ë‹¨íˆ ì„¤ëª…í•˜ë©´ ì•„ë˜ì™€ ê°™ë‹¤</p>
<blockquote>
<ul>
<li>useEffectë¡œ í˜ì´ì§€ê°€ ìµœì´ˆ ë¡œë”© ë  ë•Œ ì‘í’ˆ ë¦¬ìŠ¤íŠ¸ apië¥¼ í˜¸ì¶œ í•œë‹¤.</li>
<li>ì‘ë‹µê°’ì„ useStateë¡œ dataListì— ì €ì¥í•œë‹¤.</li>
<li>dataListì˜ ì‘í’ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ë³´ì—¬ì¤€ë‹¤</li>
</ul>
</blockquote>
<p>ì´ ì½”ë“œë¥¼ SSRë¡œ ë Œë”ë§í•˜ê¸° ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ë³€ê²½ í–ˆë‹¤.</p>
<ul>
<li>
<p>useEffectë¡œ í˜ì´ì§€ê°€ ìµœì´ˆ ë¡œë”© ë  ë•Œ ì‘í’ˆ ë¦¬ìŠ¤íŠ¸ apië¥¼ í˜¸ì¶œ í•œë‹¤.</p>
<blockquote>
<p>getServerSidePropsë¡œ ì„œë²„ì—ì„œ apië¥¼ í˜¸ì¶œí•œë‹¤.</p>
</blockquote>
</li>
<li>
<p>ì‘ë‹µê°’ì„ useStateë¡œ dataListì— ì €ì¥í•œë‹¤.</p>
<blockquote>
<p>ì‘ë‹µê°’ì„ propsë¡œ ì „ë‹¬í•œë‹¤.</p>
</blockquote>
</li>
</ul>
<pre><code class="language-javascript">export async function getServerSideProps() {
  // useEffectê°€ ì•„ë‹ˆë¼ ì„œë²„ì—ì„œ apië¥¼ í˜¸ì¶œí•œë‹¤.
  const res = await fetch(`https://api.artic.edu/api/v1/artworks?limit=20`);
  const data = await res.json();

  // Propsë¡œ ì‘ë‹µê°’ì„ ì „ë‹¬í•œë‹¤.
  return {
    props: {
      dataList: data.data,
    },
  };
}
</code></pre>
<pre><code class="language-javascript">// ì„œë²„ì—ì„œ propsë¡œ api ì‘ë‹µê°’ì„ ì „ë‹¬ ë°›ëŠ”ë‹¤.
export default function Home({ dataList }) {
(...ìƒëµ)
</code></pre>
<h2>SSR í™•ì¸í•˜ê¸°</h2>
<p>í˜ì´ì§€ì˜ ì™¸ê´€ë§Œ ë³´ë©´ SSRì„ ì ìš©í•˜ê¸° ì „ê³¼ ë™ì¼í•˜ê²Œ ë³´ì´ê¸° ë•Œë¬¸ì— ì œëŒ€ë¡œ ì ìš©ì´ ëœê±´ì§€ ì•Œ ìˆ˜ê°€ ì—†ë‹¤.</p>
<p>ì´ëŸ´ ë• ë¸Œë¼ìš°ì €ì—ì„œ cmd + opt + u(ìœˆë„ìš° ctrl + u)ë¥¼ ëˆŒëŸ¬ë³´ì.</p>
<p>(ë˜ëŠ” ë§ˆìš°ìŠ¤ ìš°í´ë¦­ > í˜ì´ì§€ ì†ŒìŠ¤ ë³´ê¸°)</p>
<p>SSRì„ ì ìš©í•˜ê¸° ì „ê³¼ í›„ì˜ ì°¨ì´ì ì´ ë³´ì´ëŠ”ê°€?</p>
<blockquote>
<p>SSR ì ìš© ì „</p>
</blockquote>
<p>SSRì„ ì ìš©í•˜ê¸° ì „ì—ëŠ” api ì‘ë‹µìœ¼ë¡œ ë°›ì€ ì‘í’ˆ ë¦¬ìŠ¤íŠ¸ì˜ ë‚´ìš©ì´ ë³´ì´ì§€ ì•ŠëŠ”ë‹¤.</p>
<blockquote>
<p>SSR ì ìš© í›„</p>
</blockquote>
<p>SSRì„ ì ìš© í•œ ë’¤ì—ëŠ” api ì‘ë‹µê°’ìœ¼ë¡œ ë°›ì€ ì‘í’ˆ íƒ€ì´í‹€ëª…ì´ í˜ì´ì§€ ì†ŒìŠ¤ì— ë³´ì´ëŠ” ê²ƒì„ í™•ì¸ í•  ìˆ˜ ìˆë‹¤.</p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>Next</category>
            <category>ssr</category>
            <category>ssg</category>
            <category>vercel</category>
            <category>deploy</category>
        </item>
        <item>
            <title><![CDATA['React PWA ë§Œë“¤ê¸°(2)']]></title>
            <link>https://nostrss.me/2023-03-04-131-progressive-web-app-2</link>
            <guid>2023-03-04-131-progressive-web-app-2</guid>
            <pubDate>Sat, 04 Mar 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<h1>A demo of <code>react-markdown</code></h1>
<p><code>react-markdown</code> is a markdown component for React.</p>
<p>ğŸ‘‰ Changes are re-rendered as you type.</p>
<p>ğŸ‘ˆ Try writing some markdown on the left.</p>
<h2>Overview</h2>
<ul>
<li>Follows <a href="https://commonmark.org">CommonMark</a></li>
<li>Optionally follows <a href="https://github.github.com/gfm/">GitHub Flavored Markdown</a></li>
<li>Renders actual React elements instead of using <code>dangerouslySetInnerHTML</code></li>
<li>Lets you define your own components (to render <code>MyHeading</code> instead of <code>h1</code>)</li>
<li>Has a lot of plugins</li>
</ul>
<h2>Table of contents</h2>
<p>Here is an example of a plugin in action
(<a href="https://github.com/remarkjs/remark-toc"><code>remark-toc</code></a>).
This section is replaced by an actual table of contents.</p>
<h2>Syntax highlighting</h2>
<p>Here is an example of a plugin to highlight code:
<a href="https://github.com/rehypejs/rehype-highlight"><code>rehype-highlight</code></a>.</p>
<pre><code class="language-js">import React from 'react';
import ReactDOM from 'react-dom';
import ReactMarkdown from 'react-markdown';
import rehypeHighlight from 'rehype-highlight';

ReactDOM.render(
  &#x3C;ReactMarkdown rehypePlugins={[rehypeHighlight]}>
    {'# Your markdown here'}
  &#x3C;/ReactMarkdown>,
  document.querySelector('#content')
);
</code></pre>
<p>Pretty neat, eh?</p>
<h2>GitHub flavored markdown (GFM)</h2>
<p>For GFM, you can <em>also</em> use a plugin:
<a href="https://github.com/remarkjs/react-markdown#use"><code>remark-gfm</code></a>.
It adds support for GitHub-specific extensions to the language:
tables, strikethrough, tasklists, and literal URLs.</p>
<p>These features <strong>do not work by default</strong>.
ğŸ‘† Use the toggle above to add the plugin.</p>
<p>|    Feature | Support              |
| ---------: | :------------------- |
| CommonMark | 100%                 |
|        GFM | 100% w/ <code>remark-gfm</code> |</p>
<p>~~strikethrough~~</p>
<ul>
<li>[ ] task list</li>
<li>[x] checked item</li>
</ul>
<p>https://example.com</p>
<h2>HTML in markdown</h2>
<p>âš ï¸ HTML in markdown is quite unsafe, but if you want to support it, you can
use <a href="https://github.com/rehypejs/rehype-raw"><code>rehype-raw</code></a>.
You should probably combine it with
<a href="https://github.com/rehypejs/rehype-sanitize"><code>rehype-sanitize</code></a>.</p>
<h2>Components</h2>
<p>You can pass components to change things:</p>
<pre><code class="language-js">import React from 'react';
import ReactDOM from 'react-dom';
import ReactMarkdown from 'react-markdown';
import MyFancyRule from './components/my-fancy-rule.js';

ReactDOM.render(
  &#x3C;ReactMarkdown
    components={{
      // Use h2s instead of h1s
      h1: 'h2',
      // Use a component instead of hrs
      hr: ({ node, ...props }) => &#x3C;MyFancyRule {...props} />,
    }}
  >
    # Your markdown here
  &#x3C;/ReactMarkdown>,
  document.querySelector('#content')
);
</code></pre>
<h2>More info?</h2>
<p>Much more info is available in the
<a href="https://github.com/remarkjs/react-markdown">readme on GitHub</a>!</p>
<hr>
<p>A component by <a href="https://espen.codes/">Espen Hovlandsdal</a></p>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>react</category>
            <category>pwa</category>
        </item>
        <item>
            <title><![CDATA['React PWA ë§Œë“¤ê¸°(1)']]></title>
            <link>https://nostrss.me/2023-03-04-130-progressive-web-app</link>
            <guid>2023-03-04-130-progressive-web-app</guid>
            <pubDate>Sat, 04 Mar 2023 00:00:00 GMT</pubDate>
            <content:encoded><![CDATA[<h2>PWAë€?</h2>
<ul>
<li>Progressive Web Appsì˜ ì•½ìì´ë‹¤.</li>
<li>html,css,javascriptì™€ ê°™ì€ ì›¹ê¸°ìˆ ë¡œ ë§Œë“œëŠ” Appì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤. ë§ˆì¹˜ Webê³¼ Appì˜ ê²½ê³„ì‚¬ì´ì— ìˆëŠ” ëŠë‚Œì´ë‹¤.</li>
<li>ë°”íƒ•í™”ë©´ì— ì›¹í˜ì´ì§€ë¥¼ ì¦ê²¨ì°¾ê¸° í•´ë‘” ê²ƒì²˜ëŸ¼ ê°„ë‹¨í•´ ë³´ì´ê¸°ë„ í•˜ê³ , Webì„ íŒ¨í‚¤ì§•í•œ í•˜ì´ë¸Œë¦¬ë“œ ì•±ì²˜ëŸ¼ ë³´ì´ê¸°ë„ í•œë‹¤.</li>
<li>êµ¬ê¸€,MSì—ì„œëŠ” PWA ì‚¬ìš©ê³¼ ë³´ê¸‰ì— ì ê·¹ì ì´ì§€ë§Œ Appleì€ ì´ì— ì†Œê·¹ì ì´ë¼ê³  í•œë‹¤.</li>
</ul>
<h3>Register Store(?)</h3>
<ul>
<li>ì§ì ‘ í•´ë³´ì§€ëŠ” ì•Šì•˜ì§€ë§Œ ì´ë ‡ê²Œ ìƒì„±í•œ Appì„ ì´ë¡ ì (?)ìœ¼ë¡œ êµ¬ê¸€í”Œë ˆì´ ìŠ¤í† ì–´ì™€ ì• í”Œ ì•± ìŠ¤í† ì–´ì— ë“±ë¡ í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.</li>
<li>ê²€ìƒ‰ì„ í•´ë³´ë‹ˆ êµ¬ê¸€ì€ ì‚¬ë¡€ê°€ ë§ì´ ë³´ì˜€ëŠ”ë°, ì• í”Œì˜ ì•± ìŠ¤í† ì–´ì˜ ê²½ìš°ì—ëŠ” ì°¾ì„ ìˆ˜ê°€ ì—†ì—ˆë‹¤. ì• í”Œì€ ì‹¬ì‚¬í†µê³¼ê°€ ë˜ì§€ ì•Šì„ ìˆ˜ë„ ìˆì„ ê²ƒ ê°™ë‹¤.</li>
</ul>
<h3>reference</h3>
<p><a href="https://www.pwabuilder.com/">PWA-builder</a></p>
<p><a href="https://developer.chrome.com/blog/getting-started-pwa/">Getting started with Progressive Web Apps</a></p>
<h3>PWA ì˜ˆì‹œ</h3>
<p>ìŠ¤íƒ€ë²…ìŠ¤ í™ˆí˜ì´ì§€ê°€ PWAê°€ ì ìš©ì´ ë˜ì–´ìˆë‹¤.</p>
<p><a href="https://app.starbucks.com/">Starbucks ë°”ë¡œê°€ê¸°</a></p>
<p>ìœ„ì˜ ë§í¬ë¥¼ íƒ€ê³  ì ‘ì†í•˜ë©´ ì£¼ì†Œì°½ ìš°ì¸¡ì— ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ì´ ìˆëŠ”ë°, í´ë¦­í•˜ë©´ PWAê°€ ë‹¤ìš´ë¡œë“œ ëœë‹¤.
ë‹¤ìš´ë¡œë“œ ëœ PWAë¥¼ ì‹¤í–‰ì‹œí‚¤ë©´ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë§ˆì¹˜ APPì„ ì‹¤í–‰ì‹œí‚¨ë“¯í•œ í™”ë©´ì´ ë‚˜íƒ€ë‚œë‹¤.</p>
<h2>REACTì— PWA ì ìš©í•˜ê¸°</h2>
<h3>1.React Set up</h3>
<blockquote>
<p>npx create-react-app pwa</p>
</blockquote>
<h3>2.Install gh-pages and package.json setting</h3>
<ul>
<li>git-hub pagesì— ë°°í¬í•´ì„œ ë³´ê¸° ìœ„í•˜ì—¬ gh-pagesë¥¼ ì„¤ì¹˜í•˜ì—¬ ê°„ë‹¨íˆ ë°°í¬ë¥¼ ìœ„í•œ ì„¸íŒ…ì„ í–ˆë‹¤.</li>
</ul>
<blockquote>
<p>npm i gh-pages</p>
</blockquote>
<ul>
<li>package.jsonì— ë°°í¬ script ì¶”ê°€</li>
</ul>
<pre><code class="language-json">//package.json
...
"homepage": "http://nostrss.github.io/pwa", //ì¶”ê°€
...
"predeploy": "npm run build", //ì¶”ê°€
"deploy": "cp build/index.html build/404.html &#x26;&#x26; gh-pages -d build" //ì¶”ê°€
</code></pre>
<h3>3.Add service-worker</h3>
<p>ì•„ë˜ 2ê°œì˜ íŒŒì¼ì„ root ìœ„ì¹˜ì— ì‘ì„±í•˜ì—¬ ì¶”ê°€í•´ì¤¬ë‹¤.</p>
<ul>
<li>service-worker.js<a href="https://github.com/nostrss/pwa/blob/main/src/service-worker.js">(ì†ŒìŠ¤ì½”ë“œ)</a></li>
<li>serviceWorkerRegistration.js<a href="https://github.com/nostrss/pwa/blob/main/src/serviceWorkerRegistration.js">(ì†ŒìŠ¤ì½”ë“œ)</a></li>
</ul>
<p>ê·¸ë¦¬ê³  index.jsíŒŒì¼ì— service-workerë¥¼ ë“±ë¡í•´ì£¼ëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•´ì¤¬ë‹¤.</p>
<pre><code class="language-javascript">import React from 'react';
import ReactDOM from 'react-dom/client';
import './index.css';
import App from './App';
import reportWebVitals from './reportWebVitals';

// ì•„ë˜ ì½”ë“œ ì¶”ê°€
import * as serviceWorkerRegistration from './serviceWorkerRegistration';

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  &#x3C;React.StrictMode>
    &#x3C;App />
  &#x3C;/React.StrictMode>
);

// ì•„ë˜ ì½”ë“œ ì¶”ê°€
serviceWorkerRegistration.register();

// If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals
reportWebVitals();
</code></pre>
<h3>4.Deploy</h3>
<blockquote>
<p>npm run deploy</p>
</blockquote>
<ul>
<li>ë°°í¬ í›„ í˜ì´ì§€ì— ì ‘ì†í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ì£¼ì†Œì°½ ì˜†ì— ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ì´ ìƒê¸°ê²Œ ëœë‹¤.</li>
</ul>
<ul>
<li>ë‹¤ìš´ë¡œë“œ í›„ ì‹¤í–‰ í•´ë³´ë©´ ì•„ê¹Œ ë³¸ ìŠ¤íƒ€ë²…ìŠ¤ PWAì²˜ëŸ¼ ë‚´ê°€ ë§Œë“  PWAê°€ ì‹¤í–‰ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤.</li>
</ul>
<h3>5. PWA Analyze</h3>
<ul>
<li>ì•ˆë“œë¡œì´ë“œ, iOSì•±ì— ë°°í¬ ì‹œ ì‹¬ì‚¬ë¥¼ ë°›ë“¯ì´, PWAë„ ì¡°ê±´ì„ ì¶©ë¶„ì´ ì¶©ì¡±í•˜ëŠ”ì§€ ê²€ì‚¬í•˜ëŠ” ë°©ë²•ì´ ëª‡ê°€ì§€ ì¡´ì¬í•œë‹¤.</li>
</ul>
<h4>Lighthouse</h4>
<ul>
<li>Chrome ê°œë°œì ë„êµ¬ > Lighthouse ì—ì„œ ì§ì ‘ ê²€ì‚¬ë¥¼ í•´ë³¼ ìˆ˜ ìˆë‹¤.</li>
<li>ê²€ì‚¬ í›„ ì–´ë–¤ ì ì´ ë¶€ì¡±í•œì§€ ê²°ê³¼ì™€ ì–´ë–»ê²Œ ìˆ˜ì •í•´ì•¼í•˜ëŠ”ì§€ ê°€ì´ë“œë„ ë³¼ ìˆ˜ ìˆë‹¤.</li>
</ul>
<h4>Pwa-builder</h4>
<p><a href="https://www.pwabuilder.com/">PWA-builder</a></p>
<ul>
<li>ë§í¬ì— ì ‘ì†í•˜ì—¬, URLì„ ì…ë ¥í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ê²°ê³¼ë¥¼ ë³¼ ìˆ˜ ìˆë‹¤.</li>
</ul>
<ul>
<li>ê·¸ë¦¬ê³  ì—¬ê¸°ì„œ OSë³„(ì•ˆë“œë¡œì´ë“œ,ì• í”Œ ë“±) íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ê°€ ìˆë‹¤.</li>
<li>ì´ íŒ¨í‚¤ì§€ë¥¼ ì–´ë–¤ ì¶”ê°€ì ì¸ ê³¼ì •ì„ ê±°ì³ì„œ ìŠ¤í† ì–´ì— ë“±ë¡í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.</li>
<li>ì‹¤ì œ ê°€ëŠ¥í•˜ë‹¤ë©´, ì–´ë–¤ ì„œë¹„ìŠ¤ë¥¼ ë§Œë“¤ ë•Œ ì´ˆê¸°ì— Native Appì„ ë”°ë¡œ ë§Œë“¤ì§€ ì•Šê³  í™œìš©í•  ìˆ˜ ìˆì„ ë“¯í•˜ë‹¤.</li>
</ul>
<h3>ETC</h3>
<ul>
<li>ë‚˜ëŠ” ì§ì ‘ service-workerë¥¼ ìƒì„±í–ˆì—ˆëŠ”ë°, ì•Œê³ ë³´ë‹ˆ ë” ì‰¬ìš´ ë°©ë²•ì´ ìˆì—ˆë‹¤.</li>
<li>ì•„ë˜ì˜ ì»¤ë§¨ë“œë¡œ react templateë¥¼ ì„¤ì¹˜í•˜ë©´ ë” ì‰½ê²Œ PWAë¥¼ ì ìš©í•  ìˆ˜ ìˆë‹¤.</li>
</ul>
<p>JavaScript</p>
<blockquote>
<p>npx create-react-app my-app --template cra-template-pwa</p>
</blockquote>
<p>TypeScript</p>
<blockquote>
<p>npx create-react-app my-app --template cra-template-pwa-typescript</p>
</blockquote>]]></content:encoded>
            <author>jintagi@gmail.com (Nostrss)</author>
            <category>react</category>
            <category>pwa</category>
        </item>
    </channel>
</rss>